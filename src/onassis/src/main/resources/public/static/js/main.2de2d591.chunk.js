(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,n){},210:function(e,t,n){e.exports=n(548)},428:function(e,t,n){},493:function(e,t,n){},495:function(e,t,n){},498:function(e,t){var n={convert:function(e){return e.constructor===Date?e:e.constructor===Array?new Date(e[0],e[1],e[2]):e.constructor===Number?new Date(e):e.constructor===String?new Date(e):"object"===typeof e?new Date(e.year,e.month,e.date):NaN},compare:function(e,t){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())?(e>t)-(e<t):NaN},inRange:function(e,t,n){return isFinite(e=this.convert(e).valueOf())&&isFinite(t=this.convert(t).valueOf())&&isFinite(n=this.convert(n).valueOf())?t<=e&&e<=n:NaN}};e.exports=n},521:function(e,t,n){},523:function(e,t,n){},526:function(e,t,n){},528:function(e,t,n){},548:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),i=n(10),c=n(48),l=n(199),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PING_RESPONSE":return Object.assign({},e,{up:t.payload.up});default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATE_RANGE_SELECTED":return Object.assign({},e,{s:t.payload.s,e:t.payload.e});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MINIBARS_REQUEST":return Object.assign({},e,{fetching:!0});case"MINIBARS_RESPONSE":return Object.assign({},e,{balances:t.payload.balances,fetching:!1});case"MINIBARS_REDRAW":return Object.assign({},e,{redraw:t.payload.redraw});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHART_REQUEST":return Object.assign({},e,{fetching:!0});case"CHART_RESPONSE":return Object.assign({},e,{curves:t.payload.curves,fetching:!1});case"CHART_NEXTDAY":return Object.assign({},e,{nextday:t.payload.nextday});case"CHART_PREVDAY":return Object.assign({},e,{prevday:t.payload.prevday});case"CHART_TODAY":return Object.assign({},e,{today:t.payload.today});case"CHART_REDRAW":return Object.assign({},e,{redraw:t.payload.redraw});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIE_REQUEST":return Object.assign({},e,{fetching:!0});case"PIE_RESPONSE":return Object.assign({},e,{slices:t.payload.slices,fetching:!1});case"PIE_REDRAW":return Object.assign({},e,{redraw:t.payload.redraw});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PAYMENTS_REQUEST":return Object.assign({},e,{fetching:!0});case"PAYMENTS_RESPONSE":return Object.assign({},e,{fetching:!1,queryType:t.payload.queryType,params:t.payload.params,payments:t.payload.payments,balances:t.payload.balances});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCK_PAYMENT_RESPONSE":return Object.assign({},e,{payment:t.payload.payment});case"LOCK_PAYMENT_REQUEST":return Object.assign({},e,{lock_payment_request:t.payload.lock_payment_request,locked:t.payload.locked});case"PAYMENT_SELECTION":return Object.assign({},e,{payments:t.payload.payments});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONSTANTS_REFRESH":return Object.assign({},e,{refreshTime:t.payload.refreshTime,constants:t.payload.constants});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNTS_REQUEST":return Object.assign({},e,{fetching:!0});case"ACCOUNTS_RESPONSE":return Object.assign({},e,{fetching:!1,accounts:t.payload.accounts});default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_REQUEST":return Object.assign({},e,{fetching:!0});case"CATEGORIES_RESPONSE":return Object.assign({},e,{fetching:!1,categories:t.payload.categories});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_VIEW":return Object.assign({},e,{view:t.payload.view});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUDITLOG_REQUEST":return Object.assign({},e,{fetching:!0});case"AUDITLOG_RESPONSE":return Object.assign({},e,{fetching:!1,logentries:t.payload.logentries,firstpage:t.payload.firstpage,lastpage:t.payload.lastpage});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ERROR":return Object.assign({},e,{status:t.payload.status,msg:t.payload.msg,when:t.payload.when});default:return e}},j=Object(c.c)({ping:o,daterange:u,minibars:d,chart:h,pie:p,payments:m,payment:f,constants:b,accounts:y,categories:v,navi:g,auditlog:O,errorMessage:E}),k=n(5),C=n(6),w=n(8),_=n(7),R=n(9),T=n(553),F=n(57),x=n(19),S=n(1),D=n(125),N=n(549),P=n(58),V=n.n(P),A=function(e,t){return function(n){n(function(e,t,n){return{type:"SHOW_ERROR",payload:{status:e,msg:t,when:n}}}(e,t,Date.now()))}},M=function(e,t){e.response&&e.response.data?t(A(e.response.status,e.response.data.error_message)):t(A("not known",e.message))},I="http://localhost:8080/";function L(e,t,n){V.a.get(I+e).then(t).catch(function(e){M(e,n)})}function Y(e,t,n,a){V.a.get(I+e,t).then(n).catch(function(e){M(e,a)})}function U(e,t,n,a){V.a.post(I+e,t).then(n).catch(function(e){M(e,a)})}var H=n(238),B={},W=function(e,t){B[e]=null,q(e,t)},q=function(e,t){if(!B[e]){var n=H("GET",I+"constants?id="+e+"&ts="+Date.now()),a=JSON.parse(n.getBody("utf8"));B[e]=a}var r;return t((r=B,{type:"CONSTANTS_REFRESH",payload:{refreshTime:(new Date).getTime(),constants:r}})),null},z=function(e){return function(t){t(function(e){return{type:"CATEGORIES_UPDATE_REQUEST",payload:{updates:e}}}(e)),U("cat/update",e,function(e){t({type:"CATEGORIES_UPDATE_RESPONSE"}),t(G()),W("cat",t)},t)}},G=function(){return function(e){e({type:"CATEGORIES_REQUEST"}),L("cat/list?ts="+Date.now(),function(t){e({type:"CATEGORIES_RESPONSE",payload:{categories:t.data}})},e)}},Q=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={currencyValue:e.value},n.onChange=n.onChange.bind(Object(S.a)(Object(S.a)(n))),n.handleFocus=n.handleFocus.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"handleFocus",value:function(e){e.target.select()}},{key:"onChange",value:function(e){var t=this.props,n=t.onValueChanged,a=t.field,r=t.index,s=function(e){if(!e)return e;"-"!==e&&"+"!==e||(e+="0");var t=e.lastIndexOf("+"),n=e.lastIndexOf("-");return""===(e=e.replace(/[^\d]/g,""))&&(e="0"),(e=""+parseInt(e,10)).length<3&&(e="00".slice(-3+e.length)+e),(t>=n?"+":"-")+e.slice(0,-2)+"."+e.slice(-2)}(e.target.value);this.setState({currencyValue:s}),n(s,a,r)}},{key:"componentWillReceiveProps",value:function(e){this.setState({currencyValue:e.value})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.readOnly,a=e.placeholder,s=e.touched,i=e.fontSize;return r.a.createElement("div",null,r.a.createElement("input",{onFocus:this.handleFocus,id:t,disabled:n,value:this.state.currencyValue,onChange:this.onChange,placeholder:n?"":a,type:"text",className:"form-control",style:{fontSize:i,textAlign:"right",color:this.state.currencyValue&&"-"===this.state.currencyValue.substr(0,1)?"red":"green",display:"inline",width:"85px",backgroundColor:s?"lightyellow":""}}))}}]),t}(r.a.Component);Q.defaultProps={id:null,onValueChanged:null,placeholder:"",value:"",readOnly:!1,field:null,index:null,touched:!1,fontSize:"inherit"};var K=Q,J=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.readOnly,a=e.field,s=e.index,i=e.onValueChanged,c=e.touched,l=e.checked;return r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},r.a.createElement("div",{className:"checkbox-personalized"},r.a.createElement("input",{name:t,type:"checkbox",disabled:n,id:t,checked:l,onChange:function(e){return i(e.target.checked,a,s)}}),r.a.createElement("label",{htmlFor:t},r.a.createElement("div",{className:"check",style:n?{backgroundColor:"lightgray",borderColor:"lightgray"}:c?{backgroundColor:"darkKhaki",borderColor:"darkKhaki"}:{}})," "))))}}]),t}(r.a.Component);J.defaultProps={id:null,onValueChanged:null,checked:!0,readOnly:!1,field:null,index:null,touched:!1};var X=J,Z=n(27),$=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={txtValue:e.value},n.onChange=n.onChange.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onValueChanged,a=t.field,r=t.index;this.setState({txtValue:e.target.value}),n(e.target.value,a,r)}},{key:"componentWillReceiveProps",value:function(e){this.setState({txtValue:e.value})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.placeholder,s=t.readOnly,i=t.touched,c=t.linkCb,l=c&&this.state.txtValue&&this.state.txtValue.length>0?r.a.createElement(D.a,{bsSize:"small",onClick:function(){c(e.state.txtValue)}},r.a.createElement(Z,{name:"caret-right"})):null;return r.a.createElement("div",null,r.a.createElement("span",{style:{display:"inline-flex"}},r.a.createElement("input",{id:n,value:this.state.txtValue,disabled:s,style:{backgroundColor:i?"lightyellow":""},placeholder:s?"":a,type:"text",onChange:this.onChange,className:"form-control"}),l))}}]),t}(r.a.Component);$.defaultProps={id:null,placeholder:"",onValueChanged:null,value:"",readOnly:!1,field:null,index:null,touched:!1,linkCb:null};var ee=$,te=n(14),ne=n.n(te),ae=n(202),re=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).handleClick=function(){n.props.readOnly||n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(e){var t=n.props,a=t.onValueChanged,r=t.field,s=t.index;n.setState({color:e.hex,displayColorPicker:!n.state.displayColorPicker}),a(e.hex,r,s)},n.state={displayColorPicker:!1,color:e.color},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({color:e.color})}},{key:"render",value:function(){var e=ne()({default:{color:{width:"28px",height:"24px",borderRadius:"4px",background:this.state.color},swatch:{padding:"5px",background:this.props.touched?"lightyellow":"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,"+(this.props.readOnly?"0":".1")+")",display:"inline-block",cursor:this.props.readOnly?"":"pointer"},popover:{position:"relative",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",null,r.a.createElement("div",{style:e.swatch,onClick:this.handleClick},r.a.createElement("div",{style:e.color})),this.state.displayColorPicker?r.a.createElement("div",{style:e.popover},r.a.createElement("div",{style:e.cover,onClick:this.handleClose}),r.a.createElement(ae.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),t}(r.a.Component);re.defaultProps={id:null,onValueChanged:null,color:"red",readOnly:!1,field:null,index:null,touched:!1};var se=re,ie=(n(428),n(132),n(54)),ce=n.n(ie),le={offset:14,position:"bottom right",theme:"light",time:5e3,transition:"scale"};var oe=function(e){return parseFloat(Math.round(100*e)/100).toFixed(2)},ue=["color","descr","i","active"],de={id:null,i:"+0.00",active:!0,descr:"",color:"blue"},he={i:function(e){return null},active:function(e){return null},descr:function(e){return""!==e?null:"required"},color:function(e){return""!==e?null:"required"}};function pe(e){var t=function(e){var t=[];return e.forEach(function(e){t.push(be(e))}),t}(e);return t.forEach(function(e){e.i=(e.i>=0?"+":"")+oe(e.i)}),t}function me(e){return e.forEach(function(e){e.i&&(e.i=parseFloat(e.i))}),e}function fe(e){return{id:e,i:e,active:e,descr:e,color:e}}function be(e){return{index:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,id:e.id,i:e.i,active:e.active,descr:e.descr,color:e.color}}function ye(e){var t={values:[],initial:[],errors:[],touched:[],deleted:[],sort:null,asc:!0};return e.forEach(function(e,n){t.values.push(be(e,n)),t.initial.push(be(e)),t.errors.push(fe(null)),t.touched.push(fe(!1)),t.deleted.push(!1)}),t}function ve(e){return e.splice(0)}var ge=n(27),Oe=-1,Ee=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).renderCategoriesT=function(){return n.sortedValues=n.state.values.slice(0),n.state.sort&&n.sortedValues.sort(n.sortersF()),r.a.createElement("div",null,r.a.createElement(T.a,{id:"accs-panel"},r.a.createElement(T.a.Heading,null,r.a.createElement(T.a.Title,null,r.a.createElement(D.a,{onClick:function(){return n.resetT()},disabled:n.pristine,bsStyle:n.pristine?"default":"primary"},"Reset"),r.a.createElement(D.a,{onClick:function(){return n.preSubmitT()},disabled:n.pristine||null!=n.errors,bsStyle:n.pristine?"default":"primary"},"Save"),r.a.createElement(D.a,{onClick:function(){return n.addR()}},"Add"))),r.a.createElement(T.a.Body,null,r.a.createElement(N.a,{id:"categories_table",striped:!0,bordered:!0,hover:!0,condensed:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:n.thClassName("color")}),n.th("descr","Name"),n.th("i","Default"),n.th("active","Active"),r.a.createElement("th",{className:n.thClassName("deleted")},r.a.createElement(ge,{name:"remove",style:{color:"red"}})))),r.a.createElement("tbody",null,n.sortedValues.map(function(e){return n.renderCategoryR(e.index)}))))))},n.showOk=n.showOk.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyF=n.changePropertyF.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyDeletedF=n.changePropertyDeletedF.bind(Object(S.a)(Object(S.a)(n))),n.setValueF=n.setValueF.bind(Object(S.a)(Object(S.a)(n))),n.validateF=n.validateF.bind(Object(S.a)(Object(S.a)(n))),n.touchedF=n.touchedF.bind(Object(S.a)(Object(S.a)(n))),n.isDifferentFromInitialF=n.isDifferentFromInitialF.bind(Object(S.a)(Object(S.a)(n))),n.chooseValueF=n.chooseValueF.bind(Object(S.a)(Object(S.a)(n))),n.renderContentF=n.renderContentF.bind(Object(S.a)(Object(S.a)(n))),n.renderDeletedContentF=n.renderDeletedContentF.bind(Object(S.a)(Object(S.a)(n))),n.setSortF=n.setSortF.bind(Object(S.a)(Object(S.a)(n))),n.sortersF=n.sortersF.bind(Object(S.a)(Object(S.a)(n))),n.addR=n.addR.bind(Object(S.a)(Object(S.a)(n))),n.getDefaultR=n.getDefaultR.bind(Object(S.a)(Object(S.a)(n))),n.removeR=n.removeR.bind(Object(S.a)(Object(S.a)(n))),n.validateR=n.validateR.bind(Object(S.a)(Object(S.a)(n))),n.readOnlyR=n.readOnlyR.bind(Object(S.a)(Object(S.a)(n))),n.isPersistedR=n.isPersistedR.bind(Object(S.a)(Object(S.a)(n))),n.renderCategoryR=n.renderCategoryR.bind(Object(S.a)(Object(S.a)(n))),n.resetT=n.resetT.bind(Object(S.a)(Object(S.a)(n))),n.isPristineT=n.isPristineT.bind(Object(S.a)(Object(S.a)(n))),n.hasErrorsT=n.hasErrorsT.bind(Object(S.a)(Object(S.a)(n))),n.preInitT=n.preInitT.bind(Object(S.a)(Object(S.a)(n))),n.preSubmitT=n.preSubmitT.bind(Object(S.a)(Object(S.a)(n))),n.init=n.init.bind(Object(S.a)(Object(S.a)(n))),n.renderCategoriesT=n.renderCategoriesT.bind(Object(S.a)(Object(S.a)(n))),n.tdClassName=n.tdClassName.bind(Object(S.a)(Object(S.a)(n))),n.td=n.td.bind(Object(S.a)(Object(S.a)(n))),n.thClassName=n.thClassName.bind(Object(S.a)(Object(S.a)(n))),n.th=n.th.bind(Object(S.a)(Object(S.a)(n))),n.init(),n.state=Object(x.a)({},ye(n.preInitT(e.initCategories))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"changePropertyF",value:function(e,t,n){if(this.isPersistedR(n)){var a=ve(this.state.touched);a[n][t]=this.isDifferentFromInitialF(e,t,n),this.setState({touched:a})}this.validateF(t,e,n),this.setValueF(e,t,n)}},{key:"changePropertyDeletedF",value:function(e,t,n){if(this.isPersistedR(n)){this.deleteCount+=e?1:-1;var a=ve(this.state.deleted);a[n]=e,this.setState({deleted:a})}else this.removeR(n)}},{key:"setValueF",value:function(e,t,n){var a=ve(this.state.values);a[n][t]=e,this.setState({values:a})}},{key:"validateF",value:function(e,t,n){var a=this.state.errors[n][e];if(he[e](t)!==a){var r=ve(this.state.errors);r[n][e]=he[e](t),this.setState({errors:r})}}},{key:"touchedF",value:function(e,t){return!(e<0)&&(!this.state.deleted[e]&&(!!this.isPersistedR(e)&&this.state.touched[e][t]))}},{key:"isDifferentFromInitialF",value:function(e,t,n){return e!==this.state.initial[n][t]}},{key:"chooseValueF",value:function(e,t){return this.state.deleted[e]?this.state.initial[e][t]:this.state.values[e][t]}},{key:"renderContentF",value:function(e,t){var n,a=this.chooseValueF(t,e);switch(e){case"i":return r.a.createElement("div",null,r.a.createElement(K,{id:"icat_"+t,onValueChanged:this.changePropertyF,placeholder:"amount",value:a,readOnly:this.readOnlyR(t,"i"),field:"i",index:t,touched:this.touchedF(t,"i")}));case"active":return r.a.createElement("div",null,r.a.createElement(X,{id:"activecat_"+t,onValueChanged:this.changePropertyF,checked:a,readOnly:this.isPersistedR(t)&&(n=this.state.touched[t],n.i||n.descr||n.color),field:"active",index:t,touched:this.touchedF(t,"active")}));case"descr":return r.a.createElement("div",null,r.a.createElement(ee,{id:"descrcat_"+t,onValueChanged:this.changePropertyF,value:a,readOnly:this.readOnlyR(t,"descr"),field:"descr",index:t,touched:this.touchedF(t,"descr"),placeholder:"name"}));case"color":return r.a.createElement("div",null,r.a.createElement(se,{id:"colorcat_"+t,onValueChanged:this.changePropertyF,color:a,readOnly:this.readOnlyR(t,"color"),field:"color",index:t,touched:this.touchedF(t,"color")}));default:return console.log("UNKONWN field: "+e),null}}},{key:"renderDeletedContentF",value:function(e){var t=this;if(!this.isPersistedR(e))return r.a.createElement("button",{type:"button",className:"form-control",onClick:function(){return t.changePropertyDeletedF(!0,"deleted",e)}},r.a.createElement(ge,{name:"remove",style:{color:"red"}}))}},{key:"setSortF",value:function(e){this.state.sort&&this.state.sort===e?this.state.sort===e&&this.state.asc?this.setState({asc:!1}):this.setState({sort:null}):this.setState({sort:e,asc:!0})}},{key:"sortersF",value:function(){var e=this,t=this.state.asc?-1:1;switch(this.state.sort){case"i":return function(n,a){return t*(e.chooseValueF(a.index,e.state.sort)-e.chooseValueF(n.index,e.state.sort))};case"descr":return function(n,a){var r=e.chooseValueF(n.index,"descr").toUpperCase(),s=e.chooseValueF(a.index,"descr").toUpperCase();return t*(r<s?-1:r>s?1:0)};case"active":return function(e,n){return t*(e.active&&n.active?0:e.active?1:-1)};default:return function(e,t){return 0}}}},{key:"addR",value:function(){var e=this.getDefaultR(),t=ve(this.state.values);t.push(e),this.sortedValues.push(e);var n=ve(this.state.errors);n.push(this.validateR(e)),this.setState({values:t,errors:n})}},{key:"getDefaultR",value:function(){var e=de;this.sortedValues.length&&(e=this.sortedValues[this.sortedValues.length-1]);var t=Object(x.a)({},e);return t.index=this.state.values.length,t.id=Oe--,t.l=!1,t.check=!1,t}},{key:"removeR",value:function(e){this.state.values.splice(e,1);var t=ve(this.state.values);this.state.errors.splice(e,1);for(var n=ve(this.state.errors),a=e;a<t.length;a++)t[a].index--,n[a].index--;this.setState({values:t,errors:n})}},{key:"validateR",value:function(e){var t={};return ue.forEach(function(n){t[n]=he[n](e[n])}),t}},{key:"readOnlyR",value:function(e,t){return this.state.deleted[e]||!this.state.values[e].active&&this.isPersistedR(e)}},{key:"isPersistedR",value:function(e){return this.state.values[e].id>=0}},{key:"renderCategoryR",value:function(e){var t=this;return r.a.createElement("tr",{key:e},Object(F.a)(ue).map(function(n){return t.td(e,n)}),r.a.createElement("td",{className:this.tdClassName(e,"deleted")},this.renderDeletedContentF(e)))}},{key:"resetT",value:function(){var e=ye(this.state.initial);this.setState(Object(x.a)({},e)),this.init()}},{key:"isPristineT",value:function(){var e=!0;return this.state.touched.forEach(function(t){ue.forEach(function(n){e=e&&!t[n]})}),e&&this.state.initial.length===this.state.values.length&&!this.deleteCount}},{key:"hasErrorsT",value:function(){var e=!1;return this.state.errors.forEach(function(t){var n;e=e||((n=t).i||n.active||n.descr||n.color)}),e}},{key:"preInitT",value:function(e){return pe(e)}},{key:"showOk",value:function(){this.msg.show("SAVED SUCCESSFULLY",{time:2e3,type:"success",icon:r.a.createElement("img",{src:"yes.png",alt:"save ok"})})}},{key:"preSubmitT",value:function(){var e=this,t=[];this.state.values.forEach(function(n,a){if(!e.isPersistedR(a)){var r={};ue.forEach(function(t){r[t]=e.chooseValueF(a,t)}),t.push(r)}});var n=[];this.state.deleted.forEach(function(t,a){t&&n.push(e.state.values[a].id)});var a=[];this.state.values.forEach(function(t,n){if(e.isPersistedR(n)){var r={};ue.forEach(function(a){e.touchedF(n,a)&&(r.id=t.id,r[a]=e.chooseValueF(n,a))}),Object.keys(r).length>0&&a.push(r)}});var r={created:me(t),deleted:n,modified:me(a)};console.log(JSON.stringify(r,null,4)),this.pristine=null,this.props.update(r)}},{key:"init",value:function(){this.deleteCount=0,this.pristine=null,this.errors=null,this.allChecked=!1}},{key:"tdClassName",value:function(e,t){return t+"_cell"+(this.isPersistedR(e)?"":" newRow")+(this.state.deleted[e]?" deleted":"")+(this.state.errors[e][t]?" error":"")}},{key:"td",value:function(e,t){return r.a.createElement("td",{key:e+"_"+t,className:this.tdClassName(e,t)},this.renderContentF(t,e))}},{key:"thClassName",value:function(e){return e+"_header"}},{key:"th",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=r.a.createElement(ge,{name:this.state.asc?"sort-asc":"sort-desc"}),s=r.a.createElement("div",null,this.state.sort===e?a:""),i=r.a.createElement("div",{style:{marginTop:8}},r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){t.setSortF(e)}},n));return r.a.createElement("th",{className:this.thClassName(e)},r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:8,paddingRight:3}},s),null!==n?i:"")))}},{key:"componentWillReceiveProps",value:function(e){this.isPristineT()||null!=this.pristine||this.showOk(),this.init(),this.setState(Object(x.a)({},ye(this.preInitT(e.initCategories))))}},{key:"render",value:function(){var e=this;return this.pristine=this.isPristineT(),this.errors=this.hasErrorsT(),r.a.createElement("div",null,r.a.createElement(ce.a,Object.assign({ref:function(t){return e.msg=t}},le)),this.renderCategoriesT())}}]),t}(r.a.Component);Ee.defaultProps={initCategories:[]};var je=Object(i.b)(null,function(e){return{update:function(t){e(z(t))}}})(Ee),ke=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Heading,{style:{paddingTop:"4px",paddingBottom:"3px",height:"45px",fontSize:"23px"}},r.a.createElement("span",{style:{display:"flow-root",alignItems:"center"}},"Categories")),r.a.createElement(T.a.Body,null,r.a.createElement(je,{initCategories:this.props.categories}))))}}]),t}(r.a.Component),Ce=Object(i.b)(function(e){return{categories:e.categories.categories}})(ke),we=n(34),_e=function(e,t){return{type:"CHART_REQUEST",payload:{s:e,e:t}}},Re=function(e){return{type:"CHART_RESPONSE",payload:{curves:e}}},Te=null;function Fe(e){e(_e(Te.s,Te.e)),Y("chart?ts="+Date.now(),{params:Te},function(t){e(Re(t.data))},e)}var xe=function(e,t){return function(n){Te={s:we(e,"yyyy-mm-dd"),e:we(t,"yyyy-mm-dd")},Fe(n)}},Se=function(){return function(e){console.assert(Te),Fe(e)}},De=function(){return function(e){e({type:"CHART_NEXTDAY",payload:{nextday:(new Date).getTime()}})}},Ne=function(){return function(e){e({type:"CHART_PREVDAY",payload:{prevday:(new Date).getTime()}})}},Pe=function(){return function(e){e({type:"CHART_TODAY",payload:{today:(new Date).getTime()}})}},Ve=function(){return function(e){e({type:"CHART_REDRAW",payload:{redraw:(new Date).getTime()}})}},Ae=function(e){return function(t){t(function(e){return{type:"ACCOUNTS_UPDATE_REQUEST",payload:{updates:e}}}(e)),U("acc/update",e,function(e){t({type:"ACCOUNTS_UPDATE_RESPONSE"}),t(Me()),W("acc",t),t(Se())},t)}},Me=function(){return function(e){e({type:"ACCOUNTS_REQUEST"}),L("acc/list?ts="+Date.now(),function(t){e({type:"ACCOUNTS_RESPONSE",payload:{accounts:t.data}})},e)}},Ie=(n(493),["color","descr","credit","active"]),Le={id:null,credit:!1,active:!0,descr:"",color:"blue"},Ye={credit:function(e){return null},active:function(e){return null},descr:function(e){return""!==e?null:"required"},color:function(e){return""!==e?null:"required"}};function Ue(e){return function(e){var t=[];return e.forEach(function(e){t.push(We(e))}),t}(e)}function He(e){return e}function Be(e){return{id:e,credit:e,active:e,descr:e,color:e}}function We(e){return{index:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,id:e.id,credit:e.credit,active:e.active,descr:e.descr,color:e.color}}function qe(e){var t={values:[],initial:[],errors:[],touched:[],deleted:[],sort:null,asc:!0};return e.forEach(function(e,n){t.values.push(We(e,n)),t.initial.push(We(e)),t.errors.push(Be(null)),t.touched.push(Be(!1)),t.deleted.push(!1)}),t}function ze(e){return e.splice(0)}var Ge=n(27),Qe=-1,Ke=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).renderAccountsT=function(){return n.sortedValues=n.state.values.slice(0),n.state.sort&&n.sortedValues.sort(n.sortersF()),r.a.createElement("div",null,r.a.createElement(T.a,{id:"accs-panel"},r.a.createElement(T.a.Heading,null,r.a.createElement(T.a.Title,null,r.a.createElement(D.a,{onClick:function(){return n.resetT()},disabled:n.pristine,bsStyle:n.pristine?"default":"primary"},"Reset"),r.a.createElement(D.a,{onClick:function(){return n.preSubmitT()},disabled:n.pristine||null!=n.errors,bsStyle:n.pristine?"default":"primary"},"Save"),r.a.createElement(D.a,{onClick:function(){return n.addR()}},"Add"))),r.a.createElement(T.a.Body,null,r.a.createElement(N.a,{id:"accounts_table",striped:!0,bordered:!0,hover:!0,condensed:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:n.thClassName("color")}),n.th("descr","Name"),n.th("credit","Credit"),n.th("active","Active"),r.a.createElement("th",{className:n.thClassName("deleted")},r.a.createElement(Ge,{name:"remove",style:{color:"red"}})))),r.a.createElement("tbody",null,n.sortedValues.map(function(e){return n.renderAccountR(e.index)}))))))},n.showOk=n.showOk.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyF=n.changePropertyF.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyDeletedF=n.changePropertyDeletedF.bind(Object(S.a)(Object(S.a)(n))),n.setValueF=n.setValueF.bind(Object(S.a)(Object(S.a)(n))),n.validateF=n.validateF.bind(Object(S.a)(Object(S.a)(n))),n.touchedF=n.touchedF.bind(Object(S.a)(Object(S.a)(n))),n.isDifferentFromInitialF=n.isDifferentFromInitialF.bind(Object(S.a)(Object(S.a)(n))),n.chooseValueF=n.chooseValueF.bind(Object(S.a)(Object(S.a)(n))),n.renderContentF=n.renderContentF.bind(Object(S.a)(Object(S.a)(n))),n.renderDeletedContentF=n.renderDeletedContentF.bind(Object(S.a)(Object(S.a)(n))),n.setSortF=n.setSortF.bind(Object(S.a)(Object(S.a)(n))),n.sortersF=n.sortersF.bind(Object(S.a)(Object(S.a)(n))),n.addR=n.addR.bind(Object(S.a)(Object(S.a)(n))),n.getDefaultR=n.getDefaultR.bind(Object(S.a)(Object(S.a)(n))),n.removeR=n.removeR.bind(Object(S.a)(Object(S.a)(n))),n.validateR=n.validateR.bind(Object(S.a)(Object(S.a)(n))),n.readOnlyR=n.readOnlyR.bind(Object(S.a)(Object(S.a)(n))),n.isPersistedR=n.isPersistedR.bind(Object(S.a)(Object(S.a)(n))),n.renderAccountR=n.renderAccountR.bind(Object(S.a)(Object(S.a)(n))),n.resetT=n.resetT.bind(Object(S.a)(Object(S.a)(n))),n.isPristineT=n.isPristineT.bind(Object(S.a)(Object(S.a)(n))),n.hasErrorsT=n.hasErrorsT.bind(Object(S.a)(Object(S.a)(n))),n.preInitT=n.preInitT.bind(Object(S.a)(Object(S.a)(n))),n.preSubmitT=n.preSubmitT.bind(Object(S.a)(Object(S.a)(n))),n.init=n.init.bind(Object(S.a)(Object(S.a)(n))),n.renderAccountsT=n.renderAccountsT.bind(Object(S.a)(Object(S.a)(n))),n.tdClassName=n.tdClassName.bind(Object(S.a)(Object(S.a)(n))),n.td=n.td.bind(Object(S.a)(Object(S.a)(n))),n.thClassName=n.thClassName.bind(Object(S.a)(Object(S.a)(n))),n.th=n.th.bind(Object(S.a)(Object(S.a)(n))),n.init(),n.state=Object(x.a)({},qe(n.preInitT(e.initAccounts))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"changePropertyF",value:function(e,t,n){if(this.isPersistedR(n)){var a=ze(this.state.touched);a[n][t]=this.isDifferentFromInitialF(e,t,n),this.setState({touched:a})}this.validateF(t,e,n),this.setValueF(e,t,n)}},{key:"changePropertyDeletedF",value:function(e,t,n){if(this.isPersistedR(n)){this.deleteCount+=e?1:-1;var a=ze(this.state.deleted);a[n]=e,this.setState({deleted:a})}else this.removeR(n)}},{key:"setValueF",value:function(e,t,n){var a=ze(this.state.values);a[n][t]=e,this.setState({values:a})}},{key:"validateF",value:function(e,t,n){var a=this.state.errors[n][e];if(Ye[e](t)!==a){var r=ze(this.state.errors);r[n][e]=Ye[e](t),this.setState({errors:r})}}},{key:"touchedF",value:function(e,t){return!(e<0)&&(!this.state.deleted[e]&&(!!this.isPersistedR(e)&&this.state.touched[e][t]))}},{key:"isDifferentFromInitialF",value:function(e,t,n){return e!==this.state.initial[n][t]}},{key:"chooseValueF",value:function(e,t){return this.state.deleted[e]?this.state.initial[e][t]:this.state.values[e][t]}},{key:"renderContentF",value:function(e,t){var n,a=this.chooseValueF(t,e);switch(e){case"credit":return r.a.createElement("div",null,r.a.createElement(X,{id:"creditacc_"+t,onValueChanged:this.changePropertyF,checked:a,readOnly:this.readOnlyR(t,"credit"),field:"credit",index:t,touched:this.touchedF(t,"credit")}));case"active":return r.a.createElement("div",null,r.a.createElement(X,{id:"activeacc_"+t,onValueChanged:this.changePropertyF,checked:a,readOnly:this.isPersistedR(t)&&(n=this.state.touched[t],n.credit||n.descr||n.color),field:"active",index:t,touched:this.touchedF(t,"active")}));case"descr":return r.a.createElement("div",null,r.a.createElement(ee,{id:"descracc_"+t,onValueChanged:this.changePropertyF,value:a,readOnly:this.readOnlyR(t,"descr"),field:"descr",index:t,touched:this.touchedF(t,"descr"),placeholder:"name"}));case"color":return r.a.createElement("div",null,r.a.createElement(se,{id:"coloracc_"+t,onValueChanged:this.changePropertyF,color:a,readOnly:this.readOnlyR(t,"color"),field:"color",index:t,touched:this.touchedF(t,"color")}));default:return console.log("UNKONWN field: "+e),null}}},{key:"renderDeletedContentF",value:function(e){var t=this;if(!this.isPersistedR(e))return r.a.createElement("button",{type:"button",className:"form-control",onClick:function(){return t.changePropertyDeletedF(!0,"deleted",e)}},r.a.createElement(Ge,{name:"remove",style:{color:"red"}}))}},{key:"setSortF",value:function(e){this.state.sort&&this.state.sort===e?this.state.sort===e&&this.state.asc?this.setState({asc:!1}):this.setState({sort:null}):this.setState({sort:e,asc:!0})}},{key:"sortersF",value:function(){var e=this,t=this.state.asc?-1:1;switch(this.state.sort){case"i":return function(n,a){return t*(e.chooseValueF(a.index,e.state.sort)-e.chooseValueF(n.index,e.state.sort))};case"descr":return function(n,a){var r=e.chooseValueF(n.index,"descr").toUpperCase(),s=e.chooseValueF(a.index,"descr").toUpperCase();return t*(r<s?-1:r>s?1:0)};case"credit":return function(e,n){return t*(e.credit&&n.credit?0:e.credit?1:-1)};case"active":return function(e,n){return t*(e.active&&n.active?0:e.active?1:-1)};default:return function(e,t){return 0}}}},{key:"addR",value:function(){var e=this.getDefaultR(),t=ze(this.state.values);t.push(e),this.sortedValues.push(e);var n=ze(this.state.errors);n.push(this.validateR(e)),this.setState({values:t,errors:n})}},{key:"getDefaultR",value:function(){var e=Le;this.sortedValues.length&&(e=this.sortedValues[this.sortedValues.length-1]);var t=Object(x.a)({},e);return t.index=this.state.values.length,t.id=Qe--,t.l=!1,t.check=!1,t}},{key:"removeR",value:function(e){this.state.values.splice(e,1);var t=ze(this.state.values);this.state.errors.splice(e,1);for(var n=ze(this.state.errors),a=e;a<t.length;a++)t[a].index--,n[a].index--;this.setState({values:t,errors:n})}},{key:"validateR",value:function(e){var t={};return Ie.forEach(function(n){t[n]=Ye[n](e[n])}),t}},{key:"readOnlyR",value:function(e,t){return this.state.deleted[e]||!this.state.values[e].active&&this.isPersistedR(e)}},{key:"isPersistedR",value:function(e){return this.state.values[e].id>=0}},{key:"renderAccountR",value:function(e){var t=this;return r.a.createElement("tr",{key:e},Object(F.a)(Ie).map(function(n){return t.td(e,n)}),r.a.createElement("td",{className:this.tdClassName(e,"deleted")},this.renderDeletedContentF(e)))}},{key:"resetT",value:function(){var e=qe(this.state.initial);this.setState(Object(x.a)({},e)),this.init()}},{key:"isPristineT",value:function(){var e=!0;return this.state.touched.forEach(function(t){Ie.forEach(function(n){e=e&&!t[n]})}),e&&this.state.initial.length===this.state.values.length&&!this.deleteCount}},{key:"hasErrorsT",value:function(){var e=!1;return this.state.errors.forEach(function(t){var n;e=e||((n=t).credit||n.active||n.descr||n.color)}),e}},{key:"preInitT",value:function(e){return Ue(e)}},{key:"showOk",value:function(){this.msg.show("SAVED SUCCESSFULLY",{time:2e3,type:"success",icon:r.a.createElement("img",{src:"yes.png",alt:"save ok"})})}},{key:"preSubmitT",value:function(){var e=this,t=[];this.state.values.forEach(function(n,a){if(!e.isPersistedR(a)){var r={};Ie.forEach(function(t){r[t]=e.chooseValueF(a,t)}),t.push(r)}});var n=[];this.state.deleted.forEach(function(t,a){t&&n.push(e.state.values[a].id)});var a=[];this.state.values.forEach(function(t,n){if(e.isPersistedR(n)){var r={};Ie.forEach(function(a){e.touchedF(n,a)&&(r.id=t.id,r[a]=e.chooseValueF(n,a))}),Object.keys(r).length>0&&a.push(r)}});var r={created:He(t),deleted:n,modified:He(a)};this.pristine=null,this.props.update(r)}},{key:"init",value:function(){this.deleteCount=0,this.pristine=null,this.errors=null,this.allChecked=!1}},{key:"tdClassName",value:function(e,t){return t+"_cell"+(this.isPersistedR(e)?"":" newRow")+(this.state.deleted[e]?" deleted":"")+(this.state.errors[e][t]?" error":"")}},{key:"td",value:function(e,t){return r.a.createElement("td",{key:e+"_"+t,className:this.tdClassName(e,t)},this.renderContentF(t,e))}},{key:"thClassName",value:function(e){return e+"_header"}},{key:"th",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=r.a.createElement(Ge,{name:this.state.asc?"sort-asc":"sort-desc"}),s=r.a.createElement("div",null,this.state.sort===e?a:""),i=r.a.createElement("div",{style:{marginTop:8}},r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){t.setSortF(e)}},n));return r.a.createElement("th",{className:this.thClassName(e)},r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:8,paddingRight:3}},s),null!==n?i:"")))}},{key:"componentWillReceiveProps",value:function(e){this.isPristineT()||null!=this.pristine||this.showOk(),this.init(),this.setState(Object(x.a)({},qe(this.preInitT(e.initAccounts))))}},{key:"render",value:function(){var e=this;return this.pristine=this.isPristineT(),this.errors=this.hasErrorsT(),r.a.createElement("div",null,r.a.createElement(ce.a,Object.assign({ref:function(t){return e.msg=t}},le)),this.renderAccountsT())}}]),t}(r.a.Component);Ke.defaultProps={initAccounts:[]};var Je=Object(i.b)(null,function(e){return{update:function(t){e(Ae(t))}}})(Ke),Xe=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={accounts:[]},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Heading,{style:{paddingTop:"4px",paddingBottom:"3px",height:"45px",fontSize:"23px"}},r.a.createElement("span",{style:{display:"flow-root",alignItems:"center"}},"Accounts")),r.a.createElement(T.a.Body,null,r.a.createElement(Je,{initAccounts:this.props.accounts}))))}}]),t}(r.a.Component),Ze=Object(i.b)(function(e){return{accounts:e.accounts.accounts}})(Xe),$e=n(34);function et(e){var t=e.split("."),n=t[0],a=t[1]-1,r=t[2];return new Date(r,a,n)}function tt(e){var t=new Date(e),n="00"+t.getDate();n=n.substr(n.length-2);var a="00"+(t.getMonth()+1);a=a.substr(a.length-2);var r="00"+t.getHours();r=r.substr(r.length-2);var s="00"+t.getMinutes();s=s.substr(s.length-2);var i="00"+t.getSeconds();i=i.substr(i.length-2);var c="000"+t.getMilliseconds();return c=c.substr(c.length-3),n+"."+a+"."+t.getFullYear()+" "+r+":"+s+":"+i+"."+c}n(495);var nt=n(27),at=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=r.a.createElement(nt,{name:"spinner",spin:!0});return this.props.fetching?e:""}}]),t}(r.a.Component),rt=function(e,t,n){return{type:"AUDITLOG_RESPONSE",payload:{logentries:e,firstpage:t,lastpage:n}}},st=function(e){return function(t){t({type:"AUDITLOG_REQUEST"}),L("history?ts="+Date.now()+"&s="+e,function(e){var n=!0;51===e.data.length&&(n=!1,e.data.pop()),t(rt(e.data,!1,n))},t)}},it=function(e){return function(t){t({type:"AUDITLOG_REQUEST"}),L("history?ts="+Date.now()+"&e="+e,function(e){var n=!0;51===e.data.length&&(n=!1,e.data.shift()),t(rt(e.data,n,!1))},t)}},ct=n(27),lt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).next=n.next.bind(Object(S.a)(Object(S.a)(n))),n.prev=n.prev.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"next",value:function(){if(this.props.logentries&&0!==this.props.logentries.length){var e=this.props.logentries[this.props.logentries.length-1],t=e.hs[e.rownr].hd;this.props.next(t)}}},{key:"prev",value:function(){if(this.props.logentries&&0!==this.props.logentries.length){var e=this.props.logentries[0],t=e.hs[e.rownr].hd;this.props.prev(t)}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:this.prev,disabled:this.props.firstpage},r.a.createElement(ct,{name:"caret-left"})),r.a.createElement(D.a,{onClick:this.next,disabled:this.props.lastpage},r.a.createElement(ct,{name:"caret-right"})),r.a.createElement(D.a,{href:"http://localhost:8080/log"},r.a.createElement(ct,{name:"download"})))}}]),t}(r.a.Component);var ot=Object(i.b)(function(e){return{logentries:e.auditlog.logentries,firstpage:e.auditlog.firstpage,lastpage:e.auditlog.lastpage}},function(e){return{next:function(t){e(st(t))},prev:function(t){e(it(t))}}})(lt),ut=["d","i","s","g","c","a","descr"],dt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).renderPaymentsHeaderT=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,n.th("w","When"),n.th("op","What"),n.th("d","Date"),n.th("i","Pay"),n.th("s","s"),n.th("g","Ref"),n.th("c","Issue"),n.th("a","Account"),n.th("descr","Desc.")))},n.renderLogEntry=n.renderLogEntry.bind(Object(S.a)(Object(S.a)(n))),n.renderPaymentsHeaderT=n.renderPaymentsHeaderT.bind(Object(S.a)(Object(S.a)(n))),n.renderPaymentR=n.renderPaymentR.bind(Object(S.a)(Object(S.a)(n))),n.renderContentF=n.renderContentF.bind(Object(S.a)(Object(S.a)(n))),n.tdClassName=n.tdClassName.bind(Object(S.a)(Object(S.a)(n))),n.td=n.td.bind(Object(S.a)(Object(S.a)(n))),n.thClassName=n.thClassName.bind(Object(S.a)(Object(S.a)(n))),n.th=n.th.bind(Object(S.a)(Object(S.a)(n))),n.chooseValueF=n.chooseValueF.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"chooseValueF",value:function(e,t){switch(t){case"w":return tt(e.hd);case"op":switch(e.op){case"C":return"creation";case"U":return"modification";case"D":return"deletion";default:return console.log("UNKONWN op:"+e.op),null}case"d":return function(e){var t=e.split("-"),n=t[2],a=t[1]-1,r=t[0];return $e(new Date(r,a,n),"dd.mm.yyyy")}(e.d);case"i":return oe(e.i);case"s":return e.s?"X":"-";case"g":return e.g;case"c":return e.c_descr;case"a":return e.a_descr;case"descr":return e.descr;default:return console.log("UNKONWN field: "+t),null}}},{key:"renderContentF",value:function(e){return r.a.createElement("div",null,e)}},{key:"thClassName",value:function(e){return e+"_header"}},{key:"th",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.a.createElement("div",null,t);return r.a.createElement("th",{className:this.thClassName(e)},r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},null!==t?n:"")))}},{key:"renderPaymentR",value:function(e,t){var n=this;return r.a.createElement("tr",{key:e.hs[t].id+"_"+e.hs[t].rownr},["w","op"].concat(ut).map(function(a){return n.td(e,t,a)}))}},{key:"tdClassName",value:function(e,t,n){var a=n+"_cell";return"U"===e.hs[t].op&&ut.indexOf(n)>-1&&e.hs[t][n]!==e.hs[t-1][n]&&(a+=" updatedRow"),t===e.rownr&&(a+=" actualRow"),a}},{key:"td",value:function(e,t,n){var a=this.chooseValueF(e.hs[t],n);return r.a.createElement("td",{key:e.hs[t].id+"_"+t+"_"+n,className:this.tdClassName(e,t,n)},this.renderContentF(a))}},{key:"renderLogEntry",value:function(e){var t=this;return r.a.createElement(T.a,{key:"al_panel_"+e.hs[0].id+"_"+e.rownr},r.a.createElement(T.a.Heading,null,r.a.createElement(T.a.Title,null,this.chooseValueF(e.hs[e.rownr],"op")," at ",tt(e.hs[e.rownr].hd)," ( id: ",e.hs[0].id," )")),r.a.createElement(T.a.Body,null,r.a.createElement("div",null,r.a.createElement(N.a,{id:"auditlog_table",key:"al_table_"+e.id,striped:!0,bordered:!0,hover:!0,condensed:!0},this.renderPaymentsHeaderT(),r.a.createElement("tbody",null,e.hs.map(function(n,a){return t.renderPaymentR(e,a)}))))))}},{key:"render",value:function(){var e=this,t=this.props.logentries||[];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Heading,{style:{paddingTop:"6px",paddingBottom:"3px",height:"45px",fontSize:"23px"}},"Audit Log ",r.a.createElement(at,{fetching:this.props.fetching}),r.a.createElement("span",{className:"pull-right"},r.a.createElement(ot,null))))),t.map(function(t){return e.renderLogEntry(t)}),r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Heading,{style:{paddingTop:"6px",paddingBottom:"3px",height:"45px",fontSize:"23px"}},r.a.createElement("span",{className:"pull-right"},r.a.createElement(ot,null))))))}}]),t}(r.a.Component),ht=Object(i.b)(function(e){return{logentries:e.auditlog.logentries,fetching:e.auditlog.fetching}})(dt),pt=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ht,{logentries:this.props.auditlog}))}}]),t}(r.a.Component),mt=Object(i.b)(function(e){return{auditlog:e.auditlog.logentries}})(pt);function ft(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function bt(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),n}function yt(e,t){var n=new Date(e),a=new Date(t);return Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()))/864e5)}function vt(e,t){return 1===e.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()&&t.getDate()===gt(e.getMonth(),e.getYear())}function gt(e,t){return new Date(t,e+1,0).getDate()}var Ot,Et,jt=function(e,t){return function(n){Ot=e,Et=t,n(function(e,t,n){return{type:"DATE_RANGE_SELECTED",payload:{s:e,e:t}}}(e,t))}},kt=function(){return function(e){if(vt(Ot,Et)){var t=bt(Ot,1),n=new Date(t);return t.setDate(1),n.setDate(gt(n.getMonth(),n.getYear())),void e(jt(t,n))}var a=yt(Ot,Et);e(jt(ft(Ot,a+1),ft(Et,a+1)))}},Ct=function(){return function(e){if(vt(Ot,Et)){var t=bt(Ot,-1),n=new Date(t);return t.setDate(1),n.setDate(gt(n.getMonth(),n.getYear())),void e(jt(t,n))}var a=yt(Et,Ot);e(jt(ft(Ot,a-1),ft(Et,a-1)))}},wt=function(){return function(e){var t=new Date(0),n=new Date;t.setFullYear(n.getFullYear()),t.setMonth(n.getMonth()),t.setDate(1),t.setHours(0);var a=new Date(t);a.setDate(gt(a.getMonth(),a.getYear())),e(jt(t,a))}},_t=0,Rt=function(e){return function(t){_t=e,t({type:"MINIBARS_REQUEST",payload:null}),Y("minibars?ts="+Date.now(),{params:{cat:e}},function(e){var n={data:e.data,balance:0};t(function(e){return{type:"MINIBARS_RESPONSE",payload:{balances:e}}}(n))},t)}},Tt=function(){return function(e){e({type:"MINIBARS_REDRAW",payload:{redraw:(new Date).getTime()}})}};n(133);var Ft=n(498),xt=n(34),St=n(93);function Dt(e){return parseFloat(Math.round(100*e)/100).toFixed(2)}var Nt=function(){var e,t,n,a,r,s,i,c,l,o,u,d,h,p,m,f,b,y,v,g,O,E="dd.mm.yyyy ddd",j="mmm",k="mmm yyyy",C="red",w="green",_="blue",R="white",T="pink",F="gray",x="cadetblue",S="lightblue",D="lightblue",N="black",P="lightblue",V=null,A=3,M=.8,I=null,L=null,Y=null;var U="_div_minibar",H="_tip_div_minibar",B="_tip_i_div_minibar",W="_day_text",q="_b_text",z="_b_color",G="_i_text",Q="_leadin_minibar",K="_zero_leadin_minibar",J="_zero_leadin_text_minibar",X="_max_text_minibar",Z="_min_text_minibar",$="_month_minibar",ee="_slot_bg_minibar",te="_i_minibar",ne="_e_minibar",ae="_b_minibar",re="_b_prev_minibar",se="_b_next_minibar",ie="_zero_minibar",ce=null;function le(){t=A*M,b=function(){console.assert(ce[0].columns[0].d,"d must be defined"),console.assert(ce[ce.length-1].columns[0].d,"d must be defined");var e=ue(ce[0].columns[0].d),t=ue(ce[ce.length-1].columns[0].d);return e+"-"+t}(),s=null}function oe(e){return"_"+V+"_"+e.getDate()+"_"+(e.getMonth()+1)+"_"+e.getFullYear()}function ue(e){return"_"+V+"_"+(e.getMonth()+1)+"_"+e.getFullYear()}function de(e){return!I||L||Ft.compare(e.d,I)?(t=e,I&&L&&t.d&&Ft.inRange(t.d,I,L)?F:function(e){if(e.smallestb<0)return T;return R}(e)):x;var t}function he(e){return e.getMonth()%2?D:S}function pe(e){var t=function(e){return Math.round(e).toPrecision(3)}(e),n=St.formatPrefix(t);return""+n.scale(t)+("y"===n.symbol?"":n.symbol)}function me(e){var t=ue(e.d),n=document.getElementById(oe(e.d)+ee).getBoundingClientRect(),a=document.documentElement,r=0,s=-((window.pageYOffset||a.scrollTop)-(a.clientTop||0));St.select("#"+t+B).style("display",0===e.i&&0===e.e?"none":"table-row"),St.select("#"+t+H).style({display:"inline",left:n.left-r+A+"px",top:n.top-s+.75*c+"px",position:"absolute"}),St.select("#"+t+W).text(xt(e.d,E)),St.select("#"+t+q).text(Dt(e.b)),St.select("#"+t+z).style("background-color",function(e){return e.i+e.e<0?C:w}(e)),St.select("#"+t+G).text(Dt(e.i+e.e))}function fe(e,t){var n=St.min([e,t]),a=St.max([e,t]);I=n,L=a}var be=864e5;function ye(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((a-n)/be)}function ve(e){document.body.style.cursor=e}var ge={click:function(e){if(null==I||I&&L)I=e.d,L=null,ve("col-resize"),Ce();else if(null==L){if(I&&Math.abs(ye(I,e.d))>O)return;L=e.d,ve("pointer"),fe(I,L),Ce(),Y(I,L)}me(e),St.select("#"+oe(e.d)+ee).attr("fill",x)},mouseover:function(e,t){me(e),St.select("#"+oe(e.d)+ee).attr("fill",x),I&&!L&&Math.abs(ye(I,e.d))>O?ve("not-allowed"):ve(I&&!L?"col-resize":"pointer")},mouseout:function(e){!function(e){St.select("#"+ue(e.d)+H).style("display","none")}(e),St.select("#"+oe(e.d)+ee).attr("fill",de(e))}};function Oe(s){var l=ue(s.columns[0].d),u=s.columns.length*A+n,b=St.select("#"+V),y={click:function(){var e,t;e=s.columns[0].d,t=s.columns[s.columns.length-1].d,I=e,L=t,Ce(),Y(I,L)},mouseover:function(){var e;e=s.columns[0].d,St.select("#"+ue(e)+$).attr("fill",x)},mouseout:function(){var e;e=s.columns[0].d,St.select("#"+ue(e)+$).attr("fill",he(e))}},v=b.append("div").attr("id",l+U).style({width:u+"px",height:f+"px",float:"left","background-color":"white","border-style":"solid","border-width":e+"px","border-color":"magenta","margin-top":"5px"}),O=b.append("div").attr("id",l+H).style({display:"none",position:"absolute","pointer-events":"none",top:"0px",left:"0px"}).append("table").attr("class","c3-tooltip").append("tbody");O.append("tr").append("th").attr({id:l+W,colspan:"2"}).text("CCC");var E=O.append("tr").attr("class","c3-tooltip-name--data2");E.append("td").attr("class","name").append("span").style("background-color",_),E.append("td").attr("class","value").attr("id",l+q).text("");var R=O.append("tr").attr("id",l+B).attr("class","c3-tooltip-name--data1");R.append("td").attr("class","name").append("span").attr("id",l+z).style("background-color","white"),R.append("td").attr("class","value").attr("id",l+G).text("");var T=v.append("svg").attr({id:l+Q,width:"0px",height:f});T.append("line").attr({x1:r-.5*n,x2:r-.5*n,y1:d,y2:m,stroke:P,"stroke-width":n}),T.append("line").attr({id:l+K,x1:r-7,x2:r,y1:h-g(0)+i+n,y2:h-g(0)+i+n,stroke:"black","stroke-width":a}),T.append("text").text("").attr({id:l+X,x:r-10,y:d+12,"text-anchor":"end","font-family":"sans-serif","font-size":"12px",fill:"black"}),T.append("text").text("").attr({id:l+Z,x:r-10,y:h,"text-anchor":"end","font-family":"sans-serif","font-size":"12px",fill:"black"});var F,S=v.append("svg").style({cursor:"inherit"}).attr({width:u,height:f,fill:"red"}).on({mouseout:function(){ve("default")}});S.append("rect").attr({id:l+$,y:p,x:0,width:u-n,height:o,fill:he(s.columns[0].d)}).style("cursor","pointer").on(y),S.append("text").text((F=s.columns[0].d,0===F.getMonth()?xt(F,k):xt(F,j))).attr({x:3,y:p+15,"text-anchor":"start","font-family":"sans-serif","font-size":"12px",fill:N}).style("cursor","pointer").on(y),S.selectAll().data(s.columns).enter().append("rect").attr({id:function(e){return console.assert(e.d,"d must be defined"),oe(e.d)+ee},x:function(e,t){return t*A},y:d,width:A,height:c,fill:function(e){return de(e)}}).on(ge),S.selectAll().data(s.columns).enter().append("rect").attr({id:function(e){return oe(e.d)+te},x:function(e,t){return(t+(1-M)/2)*A},y:function(e){return h-g(e.i)+i+n},width:t,height:function(e){return g(e.i)-g(0)},fill:w}).on(ge),S.selectAll().data(s.columns).enter().append("rect").attr({id:function(e){return oe(e.d)+ne},x:function(e,t){return(t+(1-M)/2)*A},y:h-g(0)+i+n,width:t,height:function(e){return g(0)-g(e.e)},fill:C}).on(ge),S.selectAll().data(s.columns).enter().append("line").attr({id:function(e){return oe(e.d)+ie},x1:function(e,t){return t*A},x2:function(e,t){return(t+1)*A},y1:h-g(0)+i+n,y2:h-g(0)+i+n,stroke:"black","stroke-width":a}).on(ge),S.selectAll().data(s.columns).enter().append("line").attr({id:function(e){return oe(e.d)+re},x1:function(e,t){return(t-(null!=e.prev_b?.5:-.5))*A},x2:function(e,t){return(t+.5)*A},y1:function(e){return h-g(null!=e.prev_b?e.prev_b:e.b)+i+n},y2:function(e,t){return h-g(e.b)+i+n},stroke:_,"stroke-width":a}).on(ge),S.selectAll().data(s.columns).enter().append("line").attr({id:function(e){return oe(e.d)+se},x1:function(e,t){return(t+.5)*A},x2:function(e,t){return(t+(null!=e.next_b?1.5:.5))*A},y1:function(e){return h-g(e.b)+i+n},y2:function(e,t){return h-g(null!=e.next_b?e.next_b:e.b)+i+n},stroke:_,"stroke-width":a}).on(ge),A>4&&S.selectAll().data(s.columns).enter().append("circle").style("shape-rendering","auto").attr({id:function(e){return oe(e.d)+ae},cx:function(e,t){return(t+.5)*A},cy:function(e){return h-g(e.b)+i+n},r:1.5,fill:_}).on(ge),S.append("line").attr({x1:-2,x2:u+2,y1:d+.5*n,y2:d+.5*n,stroke:P,"stroke-width":n}),S.append("line").attr({x1:u-.5*n,x2:u-.5*n,y1:d,y2:m,stroke:P,"stroke-width":n})}function Ee(e){var t=ue(e.columns[0].d),a=document.getElementById(t+U).getBoundingClientRect().left,i=!1,c=e.columns.length*A+n;s||(s=a,i=!0),St.select("#"+t+U).style({width:c+(a<=s?r:0)+"px"}),St.select("#"+t+Q).attr({width:(a<=s?r:0)+"px"}),i&&(St.select("#"+t+X).text(pe(v)),St.select("#"+t+Z).text(pe(y)))}function je(e){var t=ue(e.columns[0].d);St.select("#"+t+K).transition().attr({y1:h-g(0)+i+n,y2:h-g(0)+i+n}),St.select("#"+t+J).transition().attr({y:h-g(0)+3+i+n}),e.columns.forEach(function(e){var t=oe(e.d);St.select("#"+t+te).datum(function(t){return t.i=e.i,t.e=e.e,t.b=e.b,t.smallestb=e.smallestb,t.prev_b=e.prev_b,t.next_b=e.next_b,t}).transition().attr({y:function(e){return h-g(e.i)+i+n},height:function(e){return g(e.i)-g(0)}}),St.select("#"+t+ee).transition().attr({fill:function(e){return de(e)}}),St.select("#"+t+ne).transition().attr({y:h-g(0)+i+n,height:function(e){return g(0)-g(e.e)}}),St.select("#"+t+ae).transition().attr({cy:function(e){return h-g(e.b)+i+n}}),St.select("#"+t+ie).transition().attr({y1:h-g(0)+i+n,y2:h-g(0)+i+n}),St.select("#"+t+re).transition().attr({y1:function(e){return h-g(null!=e.prev_b?e.prev_b:e.b)+i+n},y2:function(e){return h-g(e.b)+i+n}}),St.select("#"+t+se).transition().attr({y1:function(e){return h-g(e.b)+i+n},y2:function(e){return h-g(null!=e.next_b?e.next_b:e.b)+i+n}})})}var ke={balance:0,data:[{d:new Date,b:0,e:0,i:0,smallestb:0}]};function Ce(){if(ce)for(var e=0,t=ce.length;e<t;e++)je(ce[e]),Ee(ce[e])}function we(){St.select("#"+V).selectAll("div").remove();for(var e=0,t=ce.length;e<t;e++)Oe(ce[e]),Ee(ce[e])}return{resize:function(){le(),we()},config:function(t){V||(console.assert(t,"not a valid config"),function(t){V?console.assert(!t.bindto||V===t.bindto,"bindto can be defined only once"):(console.assert(t.bindto,"bindto is mandatory"),V=t.bindto),e=t.div_border_width||e||0,r=t.leadin_width||r||45,n=t.line_width||n||1,a=t.b_line_width||a||.2,i=t.top_margin||i||10,c=t.datearea_height||c||80,l=t.center_margin||l||0,o=t.month_height||o||20,u=t.bottom_margin||u||3,f=(m=(p=(h=(d=i)+c)+l)+o)+u,Y=t.select,O=t.max_selection_days||90,b="NONE"}(t))},generate:function(e){if(e&&e.data){e.data.length||(e=ke),console.assert(V,"config must be called first!"),ce=function(e){var t=-1!==e[0].a,n=[];if(!e||!e.length)return n;if("string"===typeof e[0].d)for(var a=0,r=e.length;a<r;a++)e[a].d=new Date(e[a].d);function s(e,t){return new Date(t,e+1,0).getDate()}console.assert(e[0].d,"d is mandatory");for(var i=e[0].d.getMonth()-1,c=e[0].d.getFullYear(),l=e[0].d.getDate()-1,o=0,u=0,d=null,h=0,p=e.length;h<p;h++){var m=e[h];console.assert(m.d,"d is mandatory");var f=m.d.getMonth(),b=m.d.getFullYear(),y=m.d.getDate();for(console.assert(f>=0&&f<12&&y>0&&y<=31&&372*c+31*i+l<372*b+31*f+y,"input array must be ascending"),l=y;i!==f||c!==b;){12===++i&&(c++,i=0),d=[];for(var v=1,g=s(i,c);v<=g;v++)d.push({i:0,e:0,d:new Date(c,i,v),b:o,smallestb:u});n.push({columns:d,range_text:i+1+"/"+c})}console.assert(null!=m.b,"b is mandatory"),console.assert(null!=m.smallestb,"smallestb is mandatory"),console.assert(null!=m.i,"i is mandatory"),console.assert(m.i>=0,"i must be positive"),console.assert(null!=m.e,"e is mandatory"),console.assert(m.e<=0,"i must be negative"),t?(o=m.b,u=m.smallestb):u=o=Math.round(100*(o+m.i+m.e))/100;for(var O=m.d.getDate(),E=d.length;O<E;O++)d[O].b=o,d[O].smallestb=u;d[m.d.getDate()-1].i=m.i,d[m.d.getDate()-1].e=m.e,d[m.d.getDate()-1].b=o,d[m.d.getDate()-1].smallestb=u}for(var j=0,k=n.length;j<k;j++)for(var C=0,w=n[j].columns.length;C<w;C++){var _=n[j].columns[C];j||C?j+1===k&&C+1===w?_.next_b=null:C?C+1===w&&(_.next_b=n[j+1].columns[0].b):_.prev_b=n[j-1].columns[n[j-1].columns.length-1].b:_.prev_b=null,"undefined"===typeof _.prev_b&&(_.prev_b=n[j].columns[C-1].b),"undefined"===typeof _.next_b&&(_.next_b=n[j].columns[C+1].b)}d=[];var R=new Date(n[0].columns[0].d);R.setMonth(R.getMonth()-1);for(var T=1,F=s(i=R.getMonth(),c=R.getFullYear());T<=F;T++)d.push({i:0,e:0,d:new Date(c,i,T),b:0,smallestb:0});n.unshift({columns:d,range_text:i+1+"/"+c}),d=[];var x=n[n.length-1].columns[n[n.length-1].columns.length-1];x.next_b=x.b;var S=new Date(x.d);S.setDate(1),S.setMonth(S.getMonth()+1);for(var D=1,N=s(i=S.getMonth(),c=S.getFullYear());D<=N;D++)d.push({i:0,e:0,d:new Date(c,i,D),b:x.b,smallestb:x.smallestb,prev_b:x.b,next_b:x.b});return d[d.length-1].next_b=null,n.push({columns:d,range_text:i+1+"/"+c}),n}(e.data);var t=b;le(),function(){y=St.min([0,ce[0].columns[0].b]),v=St.max([0,ce[0].columns[0].b]);for(var e=0,t=ce.length;e<t;e++)y=St.min([y,St.min(ce[e].columns,function(e){return console.assert(null!=e.i&&null!=e.e&&null!=e.b&&e.d,"i, e, b and d must be defined"),console.assert(e.i>=0&&e.e<=0,"i must be positive, e must be negative"),St.min([e.i,e.e,e.b])})]),v=St.max([v,St.max(ce[e].columns,function(e){return St.max([e.i,e.e,e.b])})]);0===y&&0===v&&(v=100),g=St.scale.linear().domain([y,v]).range([d+n,h])}(),t===b?Ce():we()}},select:function(e,t){e&&t?(fe(e,t),Ce()):console.assert(null!=e&&null!=t)}}}();window.addEventListener("resize",function(e){Nt.resize()});var Pt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={start:new Date,end:new Date,balances:null,redraw:null},n.select=n.select.bind(Object(S.a)(Object(S.a)(n))),n.redraw=n.redraw.bind(Object(S.a)(Object(S.a)(n))),e.load(),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e={max_selection_days:400,bindto:this.props.name,select:this.select};this.minibars=Nt,this.minibars.config(e)}},{key:"select",value:function(e,t){this.su=!1,this.props.setDateRange(new Date(e),new Date(t),"rangePicker1")}},{key:"redraw",value:function(){this.minibars.generate(this.props.balances),this.minibars.select(this.props.start,this.props.end)}},{key:"componentWillReceiveProps",value:function(e){this.minibars.generate(e.balances),this.minibars.select(e.start,e.end)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:this.props.name}))}}]),t}(r.a.Component);var Vt=Object(i.b)(function(e){return{start:e.daterange.s,end:e.daterange.e,balances:e.minibars.balances,redraw:e.minibars.redraw}},function(e){return{load:function(){e(Rt(0))},setDateRange:function(t,n,a){e(jt(t,n,a))}}})(Pt),At=n(27),Mt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).nextBlock=n.nextBlock.bind(Object(S.a)(Object(S.a)(n))),n.prevBlock=n.prevBlock.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"nextBlock",value:function(){this.props.daterangeNextBlock()}},{key:"prevBlock",value:function(){this.props.daterangePrevBlock()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:this.prevBlock},r.a.createElement(At,{name:"caret-left"})),r.a.createElement(D.a,{onClick:this.nextBlock},r.a.createElement(At,{name:"caret-right"})))}}]),t}(r.a.Component);var It=Object(i.b)(null,function(e){return{daterangeNextBlock:function(){e(kt())},daterangePrevBlock:function(){e(Ct())}}})(Mt),Lt=n(39),Yt=n.n(Lt),Ut=n(36),Ht=n.n(Ut),Bt=(n(499),{dateLimit:{days:90},showWeekNumbers:!0,autoApply:!0,alwaysShowCalendars:!0,locale:{direction:"ltr",format:"DD.MM.YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},linkedCalendars:!1,ranges:{"Last 7 Days":[Yt()().subtract(6,"days"),Yt()()],"Last 30 Days":[Yt()().subtract(29,"days"),Yt()()],"This Month":[Yt()().startOf("month"),Yt()().endOf("month")],"Last Month":[Yt()().subtract(1,"month").startOf("month"),Yt()().subtract(1,"month").endOf("month")]}}),Wt={singleDatePicker:!0,showDropdowns:!1,showWeekNumbers:!0,alwaysShowCalendars:!0,autoApply:!0,locale:{direction:"ltr",format:"DD.MM.YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1}},qt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={start:e.value?e.value:e.start?e.start:new Date,end:e.value?null:e.end?e.end:new Date},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value?(Ht()("#"+this.props.pickerName).data("daterangepicker").setStartDate(e.value),Ht()("#"+this.props.pickerName).data("daterangepicker").setEndDate(e.value)):e.start&&(Ht()("#"+this.props.pickerName).data("daterangepicker").setStartDate(e.start),Ht()("#"+this.props.pickerName).data("daterangepicker").setEndDate(e.end))}},{key:"componentDidMount",value:function(){var e=this;"single"===this.props.pickerType&&Ht()("#"+this.props.pickerName).daterangepicker(Wt,function(t){e.props.pickerCallback(t,e.props.pickerName)}),"range"===this.props.pickerType&&Ht()("#"+this.props.pickerName).daterangepicker(Bt,function(t,n){e.props.pickerCallback(t,n,e.props.pickerName)}),Ht()("#"+this.props.pickerName).data("daterangepicker").setStartDate(this.state.start),"range"===this.props.pickerType?Ht()("#"+this.props.pickerName).data("daterangepicker").setEndDate(this.state.end):Ht()("#"+this.props.pickerName).data("daterangepicker").setEndDate(this.state.start)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{disabled:this.props.disabled,onMouseDown:function(e){return e.preventDefault(),!1},onKeyDown:function(e){if(9!==(e.which||e.keyCode))return e.preventDefault(),!1},type:"text",id:this.props.pickerName,className:"form-control",style:{display:"inline",width:"range"===this.props.pickerType?"185px":"100px",backgroundColor:this.props.touched?"lightyellow":""}}))}}]),t}(r.a.Component);qt.defaultProps={componentWillReceiveProps:!1,start:null,end:null,disabled:!1,touched:!1};var zt=Object(i.b)(function(e){return{start:e.daterange.s,end:e.daterange.e}})(qt),Gt=n(94);n(516);function Qt(e,t){for(var n=0;n<e.length;n++){var a=e[n];if(t(a))return a}return null}var Kt=n(27),Jt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={selectedValue:null,items:e.getConstants(e.constants_id)},n.constants_id=e.constants_id,n.onValueChange=n.onValueChange.bind(Object(S.a)(Object(S.a)(n))),n.className=n.className.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"onValueChange",value:function(e){return this.setState({selectedValue:e}),this.props.onValueChange(null!=e?e.value:null),this.renderOption(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.constants&&e.constants[this.props.constants_id]){var t=e.constants[this.props.constants_id],n=Qt(t,function(t){return t.value===e.selectedValue}),a=t.filter(function(e){return e.valid||e===n});this.setState({selectedValue:n,items:a})}}},{key:"renderOption",value:function(e){if(null!=e)return r.a.createElement("span",{style:{display:"block",whiteSpace:"nowrap"}},r.a.createElement("span",{style:{display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100px"}},r.a.createElement("span",{style:{marginRight:"5px",marginLeft:"5px"}},r.a.createElement(Kt,{name:"square",style:{color:e.color}})),r.a.createElement("span",null,e.label)))}},{key:"className",value:function(){return this.props.readOnly||this.props.touched?!this.props.readOnly&&this.props.touched?"simpledropdown_touched":this.props.readOnly&&!this.props.touched?"simpledropdown_ro":this.props.readOnly&&this.props.touched?"simpledropdown_ro_touched":void 0:"simpledropdown"}},{key:"render",value:function(){return r.a.createElement(Gt.SimpleSelect,{className:this.className(),disabled:this.props.readOnly,style:{width:"150px",border:"none",backgroundColor:"none",backgroundImage:"none"},renderOption:this.renderOption,renderValue:this.renderOption,onValueChange:this.onValueChange,placeholder:this.props.placeholder,options:this.state.items,value:this.state.selectedValue,hideResetButton:!0})}}]),t}(r.a.Component);Jt.defaultProps={refreshTime:null,onValueChange:null,touched:!1,readOnly:!1,placeholder:"",constants:null,constants_id:null};var Xt=Object(i.b)(function(e){return{refreshTime:e.constants.refreshTime,constants:e.constants.constants}},function(e){return{getConstants:function(t){q(t,e)}}})(Jt),Zt=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={filter:null,checked:!0},n.onFilterChanged=n.onFilterChanged.bind(Object(S.a)(Object(S.a)(n))),n.onCheck=n.onCheck.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"onFilterChanged",value:function(e){this.setState({filter:e}),this.props.balances_load(e)}},{key:"onCheck",value:function(e){this.setState({checked:e}),e?this.props.balances_load(0):this.state.filter&&this.props.balances_load(this.state.filter)}},{key:"render",value:function(){var e=r.a.createElement(Xt,{readOnly:this.state.checked,onValueChange:this.onFilterChanged,selectedValue:this.state.filter,placeholder:"filter",constants_id:"cat"});return r.a.createElement("div",null,r.a.createElement("span",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{paddingTop:"7px",paddingRight:"5px"}},"All"),r.a.createElement(X,{id:"all",onValueChanged:this.onCheck,checked:this.state.checked}),this.state.checked?null:e))}}]),t}(r.a.Component);var $t=Object(i.b)(null,function(e){return{balances_load:function(t){e(Rt(t))}}})(Zt),en=n(27),tn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).showMinibars=n.showMinibars.bind(Object(S.a)(Object(S.a)(n))),n.state={showMinibars:!1},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"showMinibars",value:function(){this.setState({showMinibars:!this.state.showMinibars});var e=this;console.log("FIRE:"),setTimeout(function(){e.props.minibarsRedraw()},0)}},{key:"render",value:function(){var e=this,t=r.a.createElement("span",{className:"pull-right"},r.a.createElement(It,null)),n=this.state.showMinibars?r.a.createElement("span",{className:"pull-right",style:{paddingLeft:"20px"}},r.a.createElement($t,null)):null;return r.a.createElement(T.a,{style:{width:"100%"},id:"minibars-panel",expanded:this.state.showMinibars,onToggle:function(){}},r.a.createElement(T.a.Heading,{style:{paddingTop:"3px",paddingBottom:"3px",height:"45px"}},r.a.createElement("div",{style:{display:"inline-flex",whiteSpace:"nowrap",alignItems:"center",fontSize:"23px"}},r.a.createElement(en,{name:"calendar"}),"-",r.a.createElement(en,{name:"calendar"}),"\xa0",r.a.createElement(zt,{componentWillReceiveProps:!0,pickerName:"rangePicker1",pickerType:"range",pickerCallback:function(t,n,a){e.props.setDateRange(new Date(t),new Date(n))}}),"\xa0",r.a.createElement(at,{fetching:this.props.fetching})),r.a.createElement("span",null,r.a.createElement(T.a.Toggle,{componentClass:"button",className:"link-button",onClick:this.showMinibars},this.state.showMinibars?r.a.createElement(en,{name:"minus-square-o"}):r.a.createElement(en,{name:"plus-square-o"}))),t,n),r.a.createElement(T.a.Collapse,null,r.a.createElement(T.a.Body,null,r.a.createElement(Vt,{name:"minibar"}))))}}]),t}(r.a.Component);var nn=Object(i.b)(function(e){return{fetching:e.minibars.fetching}},function(e){return{setDateRange:function(t,n){e(jt(t,n))},minibarsRedraw:function(){e(Tt())}}})(tn),an=n(34),rn=function(e,t){return{type:"PIE_REQUEST",payload:{s:e,e:t}}},sn=function(e){return{type:"PIE_RESPONSE",payload:{slices:e}}},cn=null;function ln(e){e(rn(cn.s,cn.e)),Y("pie?ts="+Date.now(),{params:cn},function(t){e(sn(t.data))},e)}var on=function(e,t){return function(n){cn={s:an(e,"yyyy-mm-dd"),e:an(t,"yyyy-mm-dd")},ln(n)}},un=function(){return function(e){e({type:"PIE_REDRAW",payload:{redraw:(new Date).getTime()}})}},dn=n(34),hn=null,pn=function(){return{type:"PAYMENTS_REQUEST"}},mn=function(e,t){return{type:"PAYMENTS_RESPONSE",payload:{params:hn,queryType:hn.e,payments:e,balances:t}}},fn=function(e){return function(t){t(function(e){return{type:"PAYMENTS_UPDATE_REQUEST",payload:{updates:e}}}(e)),U("payments/update",e,function(e){t({type:"PAYMENTS_UPDATE_RESPONSE"}),t(jn()),t(function(e){console.assert(cn),ln(e)}),t(Rt(_t)),t(Se())},t)}};function bn(e){e(pn()),Y("payments?ts="+Date.now(),{params:hn},function(t){e(mn(t.data[0],t.data[1]))},e)}var yn=function(e){return function(t){hn={e:"d",d:dn(e,"yyyy-mm-dd")},bn(t)}},vn=function(e,t,n){return function(a){hn={e:"a",a:e,d1:dn(t,"yyyy-mm-dd"),d2:dn(n,"yyyy-mm-dd")},bn(a)}},gn=function(e,t,n){return function(a){hn={e:"c",c:e,d1:dn(t,"yyyy-mm-dd"),d2:dn(n,"yyyy-mm-dd")},bn(a)}},On=function(e){return function(t){hn={e:"g",g:e},bn(t)}},En=function(e){return function(t){hn={e:"l",ids:e},bn(t)}},jn=function(){return function(e){console.assert(hn),bn(e)}},kn=function(e,t){return function(n){n(function(e,t){return{type:"LOCK_PAYMENT_REQUEST",payload:{lock_payment_request:e,locked:t}}}(e,t)),Y("lock?ts="+Date.now(),{params:{id:e,l:t}},function(t){n(function(e,t){return{type:"LOCK_PAYMENT_RESPONSE",payload:{payment:e}}}(e))},n)}},Cn=function(e){return function(t){t(function(e){return{type:"PAYMENT_SELECTION",payload:{payments:e}}}(e))}},wn=n(203),_n=n.n(wn),Rn=(n(521),n(27)),Tn=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(Rn,{name:"lock",style:{color:"white"}})}}]),t}(r.a.Component),Fn=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(Rn,{name:"unlock-alt",style:{color:"white"}})}}]),t}(r.a.Component),xn=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).toggleLock=n.toggleLock.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"toggleLock",value:function(e){var t=this.props,n=t.field,a=t.index,r=!e.target.checked;this.props.onValueChanged(r,n,a),this.props.lockPayment(this.props.id,r)}},{key:"componentWillReceiveProps",value:function(e){this.setState({checked:e.checked})}},{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.checked;return r.a.createElement("div",{style:{paddingTop:8}},r.a.createElement(_n.a,{disabled:t,checked:!n,onChange:this.toggleLock,icons:{checked:r.a.createElement(Fn,null),unchecked:r.a.createElement(Tn,null)}}))}}]),t}(r.a.Component);xn.defaultProps={id:null,onValueChanged:null,checked:!1,readOnly:!1,field:null,index:null};var Sn=Object(i.b)(null,function(e){return{lockPayment:function(t,n){e(kn(t,n))}}})(xn),Dn=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.field,a=e.index,s=e.onValueChanged,i=e.placeholder,c=e.touched,l=e.constants_id;return r.a.createElement("div",null,r.a.createElement(Xt,{readOnly:t,onValueChange:function(e){s(e,n,a)},selectedValue:this.props.value,placeholder:i,touched:c,constants_id:l}))}}]),t}(r.a.Component);Dn.defaultProps={onValueChanged:null,value:null,readOnly:!1,placeholder:"",field:null,index:null,touched:!1,constants_id:null};var Nn=Dn,Pn=n(34),Vn=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.onValueChanged,a=e.value,s=e.readOnly,i=e.field,c=e.index,l=e.touched;return r.a.createElement("div",null,r.a.createElement(zt,{disabled:s,value:a,id:t,pickerName:"picker_d_"+t+c,pickerCallback:function(e){return n(Pn(e,"dd.mm.yyyy"),i,c)},pickerType:"single",touched:l,style:{backgroundColor:l?"lightyellow":""}}))}}]),t}(r.a.Component);Vn.defaultProps={id:null,onValueChanged:null,value:!0,readOnly:!1,field:null,index:null,touched:!1};var An=Vn,Mn=n(204),In=n.n(Mn);n(523);var Ln=n(34),Yn={DAILY:function(e,t){var n=ft(et(e.d),1);e.d=Ln(n,"dd.mm.yyyy")},WEEKLY:function(e,t){var n=ft(et(e.d),7);e.d=Ln(n,"dd.mm.yyyy")},FORTNIGHTLY:function(e,t){var n=ft(et(e.d),14);e.d=Ln(n,"dd.mm.yyyy")},TWICE_A_MONTH:function(e,t){var n,a=et(e.d),r=null;n=t,r=0===(n=Number(n))||n&&!(n%2)?ft(a,14):bt(r=ft(a,-14),1),e.d=Ln(r,"dd.mm.yyyy")},MONTHLY:function(e,t){var n=bt(et(e.d),1);e.d=Ln(n,"dd.mm.yyyy")},EVERY_OTHER_MONTH:function(e,t){var n=bt(et(e.d),2);e.d=Ln(n,"dd.mm.yyyy")},EVERY_3_MONTHS:function(e,t){var n=bt(et(e.d),3);e.d=Ln(n,"dd.mm.yyyy")},EVERY_4_MONTHS:function(e,t){var n=bt(et(e.d),4);e.d=Ln(n,"dd.mm.yyyy")},EVERY_6_MONTHS:function(e,t){var n=bt(et(e.d),6);e.d=Ln(n,"dd.mm.yyyy")},YEARLY:function(e,t){var n=bt(et(e.d),12);e.d=Ln(n,"dd.mm.yyyy")}};var Un=function(e,t,n){Yn[n](e,t)},Hn=n(34),Bn=["d","b","i","s","g","c","a","descr"],Wn={id:null,l:!1,d:Hn(new Date,"dd.mm.yyyy"),i:"+0.00",c:null,a:null,s:!0,g:"",descr:"",b:null},qn={id:null,l:!1,d:Hn(new Date,"dd.mm.yyyy"),i:"+0.00",c:null,a:null,s:!0,g:"",descr:"",b:null},zn={check:function(e){return null},l:function(e){return null},d:function(e){return null!=e&&""!==e?null:"required"},i:function(e){return""!==e?null:"required"},s:function(e){return null},c:function(e){return null!=e&&""!==e?null:"required"},a:function(e){return null!==e&&""!==e?null:"required"},g:function(e){return null},descr:function(e){return null},b:function(e){return null}};function Gn(e,t){var n=function(e,t){var n=[];return e.forEach(function(e){n.push(Jn(e,t))}),n}(e,t);return n.forEach(function(e){e.d=Hn(e.d,"dd.mm.yyyy"),e.i=(e.i>=0?"+":"")+oe(e.i)}),n}function Qn(e){return e.forEach(function(e){e.i&&(e.i=parseFloat(e.i)),e.d&&(e.d=function(e){var t=e.split("."),n=t[0],a=t[1]-1,r=t[2];return $e(new Date(r,a,n),"yyyy-mm-dd")}(e.d))}),e}function Kn(e){return{check:e,id:e,l:e,d:e,i:e,c:e,a:e,s:e,g:e,descr:e,b:e}}function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{check:t.indexOf(e.id)>-1,index:n,id:e.id,l:e.l,d:e.d,i:e.i,c:e.c,a:e.a,s:e.s,g:e.g,descr:e.descr,b:e.b}}var Xn=[{label:"daily",value:"DAILY"},{label:"weekly",value:"WEEKLY"},{label:"fortnightly",value:"FORTNIGHTLY"},{label:"twice a month",value:"TWICE_A_MONTH"},{label:"monthly",value:"MONTHLY"},{label:"every other month",value:"EVERY_OTHER_MONTH"},{label:"every 3 months",value:"EVERY_3_MONTHS"},{label:"every 4 months",value:"EVERY_4_MONTHS"},{label:"every 6 months",value:"EVERY_6_MONTHS"},{label:"yearly",value:"YEARLY"}];function Zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{recur:!1,times:1,span:Xn[3]},a={values:[],initial:[],errors:[],touched:[],deleted:[],masked:Kn(!1),maskValues:qn,maskErrors:Kn(null),sort:null,asc:!0,allChecked:!1,recurring:n};return a.recurring.recur=!1,e.forEach(function(e,n){a.values.push(Jn(e,t,n)),a.initial.push(Jn(e,t)),a.errors.push(Kn(null)),a.touched.push(Kn(!1)),a.deleted.push(!1)}),a}function $n(e){return e.d||e.i||e.c||e.a||e.s||e.g||e.descr}function ea(e){return e.splice(0)}var ta=n(27),na=-1,aa=[],ra=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).renderPaymentsHeaderT=function(){return n.state.values&&0!==n.state.values.length?r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:n.thClassName("check")},r.a.createElement(X,{id:"check_all",onValueChanged:n.setValueCheckAllF,checked:n.state.allChecked,readOnly:!1,field:"check_all",index:-2,touched:!1})),r.a.createElement("th",{className:n.thClassName("l")}),n.th("d","Date"),n.drawBalanceF()?n.th("b","Balance",!1):null,n.th("i","Pay"),r.a.createElement("th",{className:n.thClassName("s")}),n.th("g",r.a.createElement(ta,{name:"paperclip",size:"lg"})),n.th("c","Issue"),n.th("a","Account"),n.th("descr","Description"),r.a.createElement("th",{className:n.thClassName("deleted")},r.a.createElement(ta,{name:"remove",style:{color:"red"}})))):r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null)))},n.renderPaymentsT=function(){return n.sortedValues=n.state.values.slice(0),n.state.sort&&n.sortedValues.sort(n.sortersF()),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(T.a,{id:"ctrls-panel",expanded:n.state.recurring.recur,onToggle:function(){}},r.a.createElement(T.a.Heading,null,r.a.createElement(T.a.Title,null,r.a.createElement(D.a,{onClick:function(){return n.resetT()},disabled:n.pristine,bsStyle:n.pristine?"default":"primary"},"Reset"),r.a.createElement(D.a,{onClick:function(){return n.preSubmitT()},disabled:n.pristine||null!=n.errors,bsStyle:n.pristine?"default":"primary"},"Save"),r.a.createElement(D.a,{onClick:function(){return n.addR()}},"Add"),r.a.createElement("span",{className:"pull-right",style:{marginTop:"6px"}},r.a.createElement(T.a.Toggle,{componentClass:"button",className:"link-button",onClick:n.setRecurring},n.state.values&&0!==n.state.values.length?n.state.recurring.recur?"No recur":"Recurring...":"")))),r.a.createElement(T.a.Collapse,null,r.a.createElement(T.a.Body,null,r.a.createElement("span",{style:{display:"inline-flex"}},r.a.createElement(Gt.SimpleSelect,{style:{width:"170px"},onValueChange:n.setRecurringSpan,placeholder:"choose span",options:Xn,value:n.state.recurring.span,hideResetButton:!0}),r.a.createElement(In.a,{id:"recurringTimes",min:1,step:1,precision:0,max:365,value:n.state.recurring.times,onChange:n.setRecurringTimes}),r.a.createElement("span",{style:{marginTop:"6px"}},"times.")))))),r.a.createElement(N.a,{id:"payments_table",striped:!0,bordered:!0,hover:!0,condensed:!0},n.renderPaymentsHeaderT(),r.a.createElement("tbody",null,n.sortedValues.map(function(e){return n.renderPaymentR(e.index)}))))},n.showAlert=n.showAlert.bind(Object(S.a)(Object(S.a)(n))),n.showOk=n.showOk.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyF=n.changePropertyF.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyDeletedF=n.changePropertyDeletedF.bind(Object(S.a)(Object(S.a)(n))),n.changePropertyLF=n.changePropertyLF.bind(Object(S.a)(Object(S.a)(n))),n.setValueF=n.setValueF.bind(Object(S.a)(Object(S.a)(n))),n.setValueCheckF=n.setValueCheckF.bind(Object(S.a)(Object(S.a)(n))),n.setValueCheckAllF=n.setValueCheckAllF.bind(Object(S.a)(Object(S.a)(n))),n.setValueMaskF=n.setValueMaskF.bind(Object(S.a)(Object(S.a)(n))),n.setValueMaskCheckF=n.setValueMaskCheckF.bind(Object(S.a)(Object(S.a)(n))),n.validateF=n.validateF.bind(Object(S.a)(Object(S.a)(n))),n.validateMaskF=n.validateMaskF.bind(Object(S.a)(Object(S.a)(n))),n.maskedF=n.maskedF.bind(Object(S.a)(Object(S.a)(n))),n.touchedF=n.touchedF.bind(Object(S.a)(Object(S.a)(n))),n.isDifferentFromInitialF=n.isDifferentFromInitialF.bind(Object(S.a)(Object(S.a)(n))),n.drawBalanceF=n.drawBalanceF.bind(Object(S.a)(Object(S.a)(n))),n.chooseValueF=n.chooseValueF.bind(Object(S.a)(Object(S.a)(n))),n.renderContentF=n.renderContentF.bind(Object(S.a)(Object(S.a)(n))),n.renderDeletedContentF=n.renderDeletedContentF.bind(Object(S.a)(Object(S.a)(n))),n.setSortF=n.setSortF.bind(Object(S.a)(Object(S.a)(n))),n.sortersF=n.sortersF.bind(Object(S.a)(Object(S.a)(n))),n.addR=n.addR.bind(Object(S.a)(Object(S.a)(n))),n.getDefaultR=n.getDefaultR.bind(Object(S.a)(Object(S.a)(n))),n.removeR=n.removeR.bind(Object(S.a)(Object(S.a)(n))),n.setRecurring=n.setRecurring.bind(Object(S.a)(Object(S.a)(n))),n.setRecurringTimes=n.setRecurringTimes.bind(Object(S.a)(Object(S.a)(n))),n.setRecurringSpan=n.setRecurringSpan.bind(Object(S.a)(Object(S.a)(n))),n.validateR=n.validateR.bind(Object(S.a)(Object(S.a)(n))),n.readOnlyR=n.readOnlyR.bind(Object(S.a)(Object(S.a)(n))),n.isPersistedR=n.isPersistedR.bind(Object(S.a)(Object(S.a)(n))),n.disabledCheckR=n.disabledCheckR.bind(Object(S.a)(Object(S.a)(n))),n.renderPaymentR=n.renderPaymentR.bind(Object(S.a)(Object(S.a)(n))),n.resetT=n.resetT.bind(Object(S.a)(Object(S.a)(n))),n.isPristineT=n.isPristineT.bind(Object(S.a)(Object(S.a)(n))),n.hasErrorsT=n.hasErrorsT.bind(Object(S.a)(Object(S.a)(n))),n.preInitT=n.preInitT.bind(Object(S.a)(Object(S.a)(n))),n.preSubmitT=n.preSubmitT.bind(Object(S.a)(Object(S.a)(n))),n.init=n.init.bind(Object(S.a)(Object(S.a)(n))),n.renderPaymentsHeaderT=n.renderPaymentsHeaderT.bind(Object(S.a)(Object(S.a)(n))),n.renderPaymentsT=n.renderPaymentsT.bind(Object(S.a)(Object(S.a)(n))),n.tdClassName=n.tdClassName.bind(Object(S.a)(Object(S.a)(n))),n.td=n.td.bind(Object(S.a)(Object(S.a)(n))),n.thClassName=n.thClassName.bind(Object(S.a)(Object(S.a)(n))),n.th=n.th.bind(Object(S.a)(Object(S.a)(n))),n.groupLoad=n.groupLoad.bind(Object(S.a)(Object(S.a)(n))),n.init(),n.state=Object(x.a)({},Zn(n.preInitT(e.initPayments),aa)),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"showAlert",value:function(){this.msg.show("SAVE YOUR CHANGES, OR RESET FIRST!",{time:5e3,type:"success",icon:r.a.createElement("img",{src:"stop.png",alt:"SAVE YOUR CHANGES, OR RESET FIRST!"})})}},{key:"showOk",value:function(){this.msg.show("SAVED SUCCESSFULLY",{time:2e3,type:"success",icon:r.a.createElement("img",{src:"yes.png",alt:"save ok"})})}},{key:"changePropertyF",value:function(e,t,n){if(-1!==n){if(-2===n)return this.validateMaskF(t,e),void this.setValueMaskF(t,e);if(this.isPersistedR(n)){var a=ea(this.state.touched);a[n][t]=this.isDifferentFromInitialF(e,t,n),this.setState({touched:a})}this.state.masked[t]||this.validateF(t,e,n),this.setValueF(e,t,n)}else this.setValueMaskCheckF(t,e)}},{key:"changePropertyDeletedF",value:function(e,t,n){if(this.isPersistedR(n)){this.deleteCount+=e?1:-1;var a=ea(this.state.deleted);a[n]=e,this.setValueCheckF(!1,"check",n),this.setState({deleted:a})}else this.removeR(n)}},{key:"changePropertyLF",value:function(e,t,n){var a=ea(this.state.values);a[n].l=e;var r=ea(this.state.initial);r[n].l=e,this.setState({values:a,initial:r})}},{key:"setValueF",value:function(e,t,n){var a=ea(this.state.values);a[n][t]=e,this.setState({values:a})}},{key:"setValueCheckF",value:function(e,t,n){this.updateCheckedSet(e,n),this.setValueF(e,"check",n),this.props.paymentSelection(aa.slice(0))}},{key:"setValueCheckAllF",value:function(e,t,n){var a=this,r=this.state.values.slice(0);r.map(function(t){return a.updateCheckedSet(e,t.index,r),null}),this.setState({values:r,allChecked:e}),this.props.paymentSelection(aa.slice(0))}},{key:"setValueMaskF",value:function(e,t){var n=Object(x.a)({},this.state.maskValues);n[e]=t,this.setState({maskValues:n})}},{key:"setValueMaskCheckF",value:function(e,t){var n=Object(x.a)({},this.state.masked);n[e]=t,this.setState({masked:n}),(n=Object(x.a)({},this.state.maskErrors))[e]=t?zn[e](this.state.maskValues[e]):null,this.setState({maskErrors:n});var a=ea(this.state.errors);this.state.values.forEach(function(n,r){a[r][e]=t?null:zn[e](n[e])}),this.setState({errors:a})}},{key:"validateF",value:function(e,t,n){var a=this.state.errors[n][e];if(zn[e](t)!==a){var r=ea(this.state.errors);r[n][e]=zn[e](t),this.setState({errors:r})}}},{key:"validateMaskF",value:function(e,t){var n=Object(x.a)({},this.state.maskErrors);n[e]=this.state.masked[e]?zn[e](t):null,this.setState({maskErrors:n})}},{key:"maskedF",value:function(e,t){return!(e<0||this.state.deleted[e])&&(this.state.masked[t]&&!this.state.values[e].l)}},{key:"touchedF",value:function(e,t){return!(e<0)&&(!this.state.deleted[e]&&(!(this.maskedF(e,t)&&this.isPersistedR(e)&&!this.isDifferentFromInitialF(this.state.maskValues[t],t,e))&&(!!this.maskedF(e,t)||!!this.isPersistedR(e)&&this.state.touched[e][t])))}},{key:"isDifferentFromInitialF",value:function(e,t,n){return e!==this.state.initial[n][t]}},{key:"chooseValueF",value:function(e,t){return this.state.deleted[e]?this.state.initial[e][t]:this.maskedF(e,t)?this.state.maskValues[t]:this.state.values[e][t]}},{key:"renderContentF",value:function(e,t){if(-1===t)return r.a.createElement("div",null,r.a.createElement(X,{id:e+"_mask_check",onValueChanged:this.changePropertyF,checked:this.state.masked[e],readOnly:!1,field:e,index:-1}));if(-2!==t||this.state.masked[e]){var n=null;switch(n=-2===t?this.state.maskValues[e]:this.chooseValueF(t,e),e){case"check":return r.a.createElement("div",null,r.a.createElement(X,{id:"check_"+t,onValueChanged:this.setValueCheckF,checked:n,readOnly:this.disabledCheckR(t),field:"check",index:t,touched:!1}));case"l":return r.a.createElement("div",null,r.a.createElement(Sn,{id:this.state.values[t].id,onValueChanged:this.changePropertyLF,checked:n,readOnly:!this.isPersistedR(t)||this.state.deleted[t]||$n(this.state.masked)||$n(this.state.touched[t]),field:"l",index:t}));case"d":return r.a.createElement("div",null,r.a.createElement(An,{id:"d_"+t,onValueChanged:this.changePropertyF,value:n,readOnly:this.readOnlyR(t,"d"),field:"d",index:t,touched:this.touchedF(t,"d")}));case"b":return r.a.createElement("div",null,r.a.createElement(K,{value:""+this.chooseValueF(t,"b"),field:"b",readOnly:!0,touched:!1}));case"i":return r.a.createElement("div",null,r.a.createElement(K,{id:"i_"+t,onValueChanged:this.changePropertyF,placeholder:"amount",value:n,readOnly:this.readOnlyR(t,"i"),field:"i",index:t,touched:this.touchedF(t,"i")}));case"s":return r.a.createElement("div",null,r.a.createElement(X,{id:"s_"+t,onValueChanged:this.changePropertyF,checked:n,readOnly:this.readOnlyR(t,"s"),field:"s",index:t,touched:this.touchedF(t,"s")}));case"g":return r.a.createElement("div",null,r.a.createElement(ee,{id:"g_"+t,onValueChanged:this.changePropertyF,value:n,readOnly:this.readOnlyR(t,"g"),field:"g",index:t,touched:this.touchedF(t,"g"),placeholder:"gId",linkCb:this.groupLoad}));case"c":return r.a.createElement("div",null,r.a.createElement(Nn,{onValueChanged:this.changePropertyF,value:n,readOnly:this.readOnlyR(t,e),placeholder:"select",field:"c",index:t,touched:this.touchedF(t,e),constants_id:"cat"}));case"a":return r.a.createElement("div",{style:{display:"inline-flex",whiteSpace:"nowrap"}},r.a.createElement(Nn,{onValueChanged:this.changePropertyF,value:n,readOnly:this.readOnlyR(t,e),placeholder:"select",field:"a",index:t,touched:this.touchedF(t,e),constants_id:"acc"}));case"descr":return r.a.createElement("div",null,r.a.createElement(ee,{id:"descr_"+t,onValueChanged:this.changePropertyF,value:n,readOnly:this.readOnlyR(t,"descr"),field:"descr",index:t,touched:this.touchedF(t,"descr"),placeholder:"description"}));default:return console.log("UNKONWN field: "+e),null}}}},{key:"renderDeletedContentF",value:function(e){var t=this;return this.isPersistedR(e)?r.a.createElement("div",null,r.a.createElement(X,{id:"deleted_"+e,onValueChanged:this.changePropertyDeletedF,checked:this.state.deleted[e],readOnly:this.state.values[e].l,field:"deleted",index:e,touched:!1})):r.a.createElement("button",{type:"button",className:"form-control",onClick:function(){return t.changePropertyDeletedF(!0,"deleted",e)}},r.a.createElement(ta,{name:"remove",style:{color:"red"}}))}},{key:"setSortF",value:function(e){this.state.sort&&this.state.sort===e?this.state.sort===e&&this.state.asc?this.setState({asc:!1}):this.setState({sort:null}):this.setState({sort:e,asc:!0})}},{key:"sortersF",value:function(){var e=this,t=this.state.asc?-1:1;switch(this.state.sort){case"i":case"a":case"c":return function(n,a){return t*(e.chooseValueF(a.index,e.state.sort)-e.chooseValueF(n.index,e.state.sort))};case"d":return function(n,a){return t*(et(e.chooseValueF(a.index,"d")).getTime()-et(e.chooseValueF(n.index,"d")).getTime())};case"g":return function(n,a){var r=e.chooseValueF(n.index,"g").toUpperCase(),s=e.chooseValueF(a.index,"g").toUpperCase();return t*(r<s?-1:r>s?1:0)};default:return function(e,t){return 0}}}},{key:"addR",value:function(){var e=this.getDefaultR(),t=ea(this.state.values),n=ea(this.state.errors),a=1;this.state.recurring.recur&&(a=this.state.recurring.times);for(var r=0;r<a;r++)(e=Jn(e,[])).id=na--,e.index=t.length,e.l=!1,e.check=!1,this.state.recurring.recur&&Un(e,r,this.state.recurring.span.value),t.push(e),this.sortedValues.push(e),n.push(this.validateR(e));this.setState({values:t,errors:n})}},{key:"setRecurring",value:function(){this.setState({recurring:Object(x.a)({},this.state.recurring,{recur:!this.state.recurring.recur})})}},{key:"setRecurringTimes",value:function(e){this.setState({recurring:Object(x.a)({},this.state.recurring,{times:e})})}},{key:"setRecurringSpan",value:function(e){this.setState({recurring:Object(x.a)({},this.state.recurring,{span:e})})}},{key:"getDefaultR",value:function(){var e=Wn;return this.sortedValues.length&&(e=this.sortedValues[this.sortedValues.length-1]),Object(x.a)({},e)}},{key:"removeR",value:function(e){this.state.values.splice(e,1);var t=ea(this.state.values);this.state.errors.splice(e,1);for(var n=ea(this.state.errors),a=e;a<t.length;a++)t[a].index--,n[a].index--;this.setState({values:t,errors:n})}},{key:"validateR",value:function(e){var t={};return Bn.forEach(function(n){t[n]=zn[n](e[n])}),t}},{key:"readOnlyR",value:function(e,t){return!(e<0)&&(this.state.masked[t]||this.state.deleted[e]||this.state.values[e].l)}},{key:"isPersistedR",value:function(e){return this.state.values[e].id>=0}},{key:"disabledCheckR",value:function(e){return!this.isPersistedR(e)||this.state.deleted[e]}},{key:"renderPaymentR",value:function(e){var t=this;return r.a.createElement("tr",{key:e},["check","l"].concat(Object(F.a)(Bn)).map(function(n){return t.td(e,n)}),r.a.createElement("td",{className:this.tdClassName(e,"deleted")},this.renderDeletedContentF(e)))}},{key:"resetT",value:function(){var e=Zn(this.state.initial,aa,this.state.recurring);this.setState(Object(x.a)({},e)),this.init()}},{key:"isPristineT",value:function(){var e=!0;return this.state.touched.forEach(function(t){Bn.forEach(function(n){e=e&&!t[n]})}),e&&this.state.initial.length===this.state.values.length&&!$n(this.state.masked)&&!this.deleteCount}},{key:"hasErrorsT",value:function(){var e=!1;return this.state.errors.forEach(function(t){e=e||$n(t)}),e||$n(this.state.maskErrors)}},{key:"preInitT",value:function(e){return Gn(e,aa)}},{key:"preSubmitT",value:function(){var e=this,t=[];this.state.values.forEach(function(n,a){if(!e.isPersistedR(a)){var r={};Bn.forEach(function(t){r[t]=e.chooseValueF(a,t)}),t.push(r)}});var n=[];this.state.deleted.forEach(function(t,a){t&&n.push(e.state.values[a].id)});var a=[];this.state.values.forEach(function(t,n){if(e.isPersistedR(n)){var r={};Bn.forEach(function(a){e.touchedF(n,a)&&(r.id=t.id,r[a]=e.chooseValueF(n,a))}),Object.keys(r).length>0&&a.push(r)}});var r={created:Qn(t),deleted:n,modified:Qn(a)};this.pristine=null,this.props.update(r),this.showOk()}},{key:"init",value:function(){this.deleteCount=0,this.pristine=null,this.errors=null,this.allChecked=!1}},{key:"tdClassName",value:function(e,t){return t+"_cell"+(this.isPersistedR(e)?"":" newRow")+(this.state.deleted[e]?" deleted":"")+(this.state.values[e].check?" selected":"")+(this.state.errors[e][t]?" error":"")}},{key:"drawBalanceF",value:function(){return"a"===this.props.queryType&&this.pristine}},{key:"td",value:function(e,t){if("b"!==t||this.drawBalanceF())return r.a.createElement("td",{key:e+"_"+t,className:this.tdClassName(e,t)},this.renderContentF(t,e))}},{key:"thClassName",value:function(e){return e+"_header"+(this.state.maskErrors[e]?" error":"")+($n(this.state.masked)?" header_tall":"")}},{key:"th",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return r.a.createElement("th",{className:this.thClassName(e)},r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},r.a.createElement("div",{style:{marginTop:8,textDecoration:"none"},className:"link-button"},null!==n?n:""))));var a=r.a.createElement(ta,{name:this.state.asc?"sort-asc":"sort-desc"}),s=r.a.createElement("div",null,this.state.sort===e?a:""),i=r.a.createElement("div",{style:{marginTop:8}},r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){t.setSortF(e)}},n));return r.a.createElement("th",{className:this.thClassName(e)},r.a.createElement("div",null,r.a.createElement("span",{style:{display:"flex"}},this.renderContentF(e,-1),r.a.createElement("div",{style:{marginTop:8,paddingRight:3}},s),null!==n?i:"")),this.renderContentF(e,-2))}},{key:"componentWillReceiveProps",value:function(e){this.init(),this.setState(Object(x.a)({},Zn(this.preInitT(e.initPayments),aa)))}},{key:"updateCheckedSet",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(t<0||this.disabledCheckR(t))){var a=aa.indexOf(this.state.values[t].id);e&&a<0&&aa.push(this.state.values[t].id),!e&&a>-1&&aa.splice(a,1),n&&(n[t].check=e)}}},{key:"groupLoad",value:function(e){this.pristine&&e&&e.length>0&&this.props.groupLoad(e)}},{key:"render",value:function(){var e=this;return this.pristine=this.isPristineT(),this.errors=this.hasErrorsT(),r.a.createElement("div",null,r.a.createElement(ce.a,Object.assign({ref:function(t){return e.msg=t}},le)),this.renderPaymentsT())}}]),t}(r.a.Component);ra.defaultProps={initPayments:[],queryType:null};var sa=Object(i.b)(null,function(e){return{update:function(t){e(fn(t))},paymentSelection:function(t){e(Cn(t))},groupLoad:function(t){e(On(t))}}})(ra),ia=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={payments:[],balances:[]},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(sa,{initPayments:this.props.payments,queryType:this.props.queryType})}}]),t}(r.a.Component);var ca=Object(i.b)(function(e){return{queryType:e.payments.queryType,payments:e.payments.payments,balances:e.payments.balances}},function(e){return{dayLoad:function(t){e(yn(t))}}})(ia),la=n(550),oa=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).list=n.list.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"list",value:function(){this.props.listLoad(this.props.payments)}},{key:"render",value:function(){return 0===this.props.payments.length?null:r.a.createElement(D.a,{onClick:this.list},r.a.createElement(la.a,null,this.props.payments.length))}}]),t}(r.a.Component);oa.defaultProps={payments:[]};var ua=Object(i.b)(function(e){return{payments:e.payment.payments}},function(e){return{listLoad:function(t){e(En(t))}}})(oa),da=n(34);function ha(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var s=da(e,"yyyymmdd")+"T00",i=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(t[0],function(e){return s===e}),c=[];return t.forEach(function(e,t){if(1===t&&c.push(r.a.createElement("tr",{className:"c3-tooltip-name--data2",key:-1},r.a.createElement("td",{className:"name"},r.a.createElement("span",{style:{backgroundColor:"green"}})),r.a.createElement("td",{className:"value"},oe(e[i])))),2===t&&c.push(r.a.createElement("tr",{className:"c3-tooltip-name--data2",key:-2},r.a.createElement("td",{className:"name"},r.a.createElement("span",{style:{backgroundColor:"red"}})),r.a.createElement("td",{className:"value"},oe(e[i])))),t>=3){var a=Qt(n.acc,function(t){return e[0]===""+t.value});c.push(r.a.createElement("tr",{className:"c3-tooltip-name--data2",key:a.value},r.a.createElement("td",{className:"name"},r.a.createElement("span",{style:{backgroundColor:a.color}})),r.a.createElement("td",{className:"value"},oe(e[i]))))}}),r.a.createElement("table",{className:"c3-tooltip"},r.a.createElement("tbody",null,a?r.a.createElement("th",{colSpan:"2"},da(e,"dd.mm.yyyy ddd")):null,c))}}var pa=n(27),ma=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).nextDay=n.nextDay.bind(Object(S.a)(Object(S.a)(n))),n.prevDay=n.prevDay.bind(Object(S.a)(Object(S.a)(n))),n.today=n.today.bind(Object(S.a)(Object(S.a)(n))),n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"nextDay",value:function(){this.props.chartNextDay()}},{key:"prevDay",value:function(){this.props.chartPrevDay()}},{key:"today",value:function(){this.props.chartToday()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:this.prevDay},r.a.createElement(pa,{name:"caret-left"})),r.a.createElement(D.a,{onClick:this.nextDay},r.a.createElement(pa,{name:"caret-right"})),r.a.createElement(D.a,{onClick:this.today},"Today"))}}]),t}(r.a.Component);var fa=Object(i.b)(null,function(e){return{chartNextDay:function(){e(De())},chartPrevDay:function(){e(Ne())},chartToday:function(){e(Pe())}}})(ma),ba=n(34),ya=n(27),va=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).state={accs:e.getConstants("acc"),cats:e.getConstants("cat"),refreshTime:null},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.constants&&e.constants.acc&&this.setState({accs:e.constants.acc}),e.constants&&e.constants.cat&&this.setState({accs:e.constants.cat})}},{key:"render",value:function(){var e=this,t="";switch(this.props.queryType){case"d":t=ba(this.props.params.d,"dd.mm.yyyy ddd");break;case"a":var n=Qt(this.props.constants.acc,function(t){return e.props.params.a===""+t.value});t=r.a.createElement("span",null,r.a.createElement("span",{style:{marginRight:"5px",marginLeft:"5px"}},"Account : ",r.a.createElement(ya,{name:"square",style:{color:n.color}})),r.a.createElement("span",null,n.label+" ("+ba(this.props.params.d1,"dd.mm.yyyy ddd")+" - "+ba(this.props.params.d2,"dd.mm.yyyy ddd")+")"));break;case"c":var a=Qt(this.props.constants.cat,function(t){return e.props.params.c===""+t.value});t=r.a.createElement("span",null,r.a.createElement("span",{style:{marginRight:"5px",marginLeft:"5px"}},"Issue : ",r.a.createElement(ya,{name:"square",style:{color:a.color}})),r.a.createElement("span",null,a.label+" ("+ba(this.props.params.d1,"dd.mm.yyyy ddd")+" - "+ba(this.props.params.d2,"dd.mm.yyyy ddd")+")"));break;case"g":t=r.a.createElement("span",null,r.a.createElement(ya,{name:"paperclip",size:"lg"}),"  ",this.props.params.g);break;case"l":t="Checked";break;default:t=""}var s=null;return"d"===this.props.queryType&&this.props.curves&&(s=ha(this.props.params.d,this.props.curves,this.props.constants)),r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Heading,{style:{paddingTop:"4px",paddingBottom:"3px",height:"45px",fontSize:"23px"}},r.a.createElement("span",{style:{display:"flow-root",alignItems:"center"}},r.a.createElement(ya,{name:"th-list"})," ",r.a.createElement("span",{style:{fontSize:"15px"}},t),r.a.createElement(at,{fetching:this.props.fetching}),r.a.createElement("span",{className:"pull-right"},r.a.createElement(fa,null),r.a.createElement(ua,null)))),r.a.createElement(T.a.Body,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},r.a.createElement(ca,null)),r.a.createElement("td",{style:{width:"30px",verticalAlign:"top",paddingLeft:"4px"}},s)))))))}}]),t}(r.a.Component);var ga=Object(i.b)(function(e){return{fetching:e.payments.fetching,queryType:e.payments.queryType,params:e.payments.params,refreshTime:e.constants.refreshTime,constants:e.constants.constants,curves:e.chart.curves}},function(e){return{getConstants:function(t){q(t,e)}}})(va),Oa=n(71),Ea=n.n(Oa),ja=n(205),ka=n.n(ja),Ca=(n(526),n(93)),wa=n(34),_a=-1,Ra=!1,Ta=function(e){function t(e){var n;Object(k.a)(this,t),n=Object(w.a)(this,Object(_.a)(t).call(this,e));var a=Object(S.a)(Object(S.a)(n));return n.state={start:null,end:null,curves:null,constants:e.getConstants("acc"),refreshTime:null,selectedType:"",nextday:null,prevday:null,today:null,redraw:null},n.boundingRect=null,n.hahlo_ix=null,n.hahlo=null,n.draw=n.draw.bind(Object(S.a)(Object(S.a)(n))),n.dateselect=n.dateselect.bind(Object(S.a)(Object(S.a)(n))),n.nextday=n.nextday.bind(Object(S.a)(Object(S.a)(n))),n.prevday=n.prevday.bind(Object(S.a)(Object(S.a)(n))),n.today=n.today.bind(Object(S.a)(Object(S.a)(n))),n.redraw=n.redraw.bind(Object(S.a)(Object(S.a)(n))),n.legendnames=n.legendnames.bind(Object(S.a)(Object(S.a)(n))),n.onmouseover=n.onmouseover.bind(Object(S.a)(Object(S.a)(n))),n.onmouseover_account=n.onmouseover_account.bind(Object(S.a)(Object(S.a)(n))),n.onmouseout=n.onmouseout.bind(Object(S.a)(Object(S.a)(n))),n.find_ix=n.find_ix.bind(Object(S.a)(Object(S.a)(n))),n.chartDatetoDate=n.chartDatetoDate.bind(Object(S.a)(Object(S.a)(n))),n.tooltip=n.tooltip.bind(Object(S.a)(Object(S.a)(n))),n.c3onRendered=n.c3onRendered.bind(Object(S.a)(Object(S.a)(n))),n.timer=null,n.chart_config={onrendered:n.c3onRendered,bindto:"#chart",grid:{x:{show:!0},y:{show:!0,lines:[{value:0}]}},tooltip:{grouped:!0,contents:function(e,t,n,r){return a.tooltip(e)}},data:{x:"x",onmouseover:function(e){Ra&&a.onmouseover(e)},onclick:n.onmouseover,xFormat:"%Y%m%dT%H",columns:null,transition:{duration:500},names:{},colors:{},types:{},type:"bar",groups:[["E","I"]],selection:{}},axis:{x:{type:"timeseries",tick:{culling:{max:10},format:function(e){return wa(e,"dd.mm")}}}},legend:{item:{onclick:function(e){a.onmouseover_account(e)},onmouseover:function(e){!this.transiting&&this.isTargetToShow(e)&&this.api.focus(e),Ra&&a.onmouseover_account(e)}}}},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"tooltip",value:function(e){var t=ha(e[0].x,this.props.curves,this.props.constants,!0);return ka.a.renderToStaticMarkup(t)}},{key:"onmouseout",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"onmouseover",value:function(e){var t=this;if(Ra){if("I"===e.id&&0!==yt(e.x,this.selectedDate)){this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){t.dateselect(e.x)},300)}}else this.dateselect(e.x)}},{key:"chartDatetoDate",value:function(e){var t=e.substring(0,4),n=e.substring(4,6)-1,a=e.substring(6,8);return new Date(t,n,a)}},{key:"find_ix",value:function(e){return this.chart_config.data.columns?yt(this.chartDatetoDate(this.chart_config.data.columns[0][1]),e):null}},{key:"nextday",value:function(){this.selectedDate&&this.dateselect(ft(this.selectedDate,1))}},{key:"prevday",value:function(){this.selectedDate&&this.dateselect(ft(this.selectedDate,-1))}},{key:"today",value:function(){var e=new Date;this.props.daterangeToday(),this.dateselect(e)}},{key:"redraw",value:function(){this.draw()}},{key:"onmouseover_account",value:function(e){var t=this;if("I"!==e&&"E"!==e){var n=this;this.timer=setTimeout(function(){t.props.accountLoad(e,n.props.start,n.props.end)},300)}}},{key:"dateselect",value:function(e){console.log("DATESEL"),this.selectedDate=e;var t=this.find_ix(e);if(null!==t&&-1===t&&(this.props.daterangePrevBlock(),t=this.chart_config.data.columns[0].length-2),null!=t&&t===this.chart_config.data.columns[0].length-1&&(this.props.daterangeNextBlock(),t=0),this.props.dayLoad(e,t),null!=this.hahlo_ix){var n=wa(ft(this.selectedDate,-1),"yyyymmdd")+"T20",a=wa(this.selectedDate,"yyyymmdd")+"T4";this.chart_config.regions[this.hahlo_ix].start=n,this.chart_config.regions[this.hahlo_ix].end=a,Ea.a.generate(this.chart_config)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"chart",onMouseOut:function(){return e.onmouseout()}})}},{key:"draw",value:function(){if(this.boundingRect=document.getElementById("chart").getBoundingClientRect(),this.chart_config.data.columns){if(!this.chart_config.regions){this.chart_config.regions=[];for(var e=1;e<this.chart_config.data.columns[0].length;e++)for(var t=3;t<this.chart_config.data.columns.length;t++){var n=wa(ft(this.chartDatetoDate(this.chart_config.data.columns[0][e]),-1),"yyyymmdd")+"T12",a=wa(this.chartDatetoDate(this.chart_config.data.columns[0][e]),"yyyymmdd")+"T12";this.chart_config.regions.push({start:n,end:a,class:this.chart_config.data.columns[t][e]<0?"red":"white"})}if(this.selectedDate){this.hahlo_ix=this.chart_config.regions.length;var r=wa(ft(this.selectedDate,-1),"yyyymmdd")+"T20",s=wa(this.selectedDate,"yyyymmdd")+"T4";this.chart_config.regions.push({start:r,end:s,class:"gray"})}}Ea.a.generate(this.chart_config)}}},{key:"c3onRendered",value:function(){var e=this;this.chart_config.data.columns[0].forEach(function(t,n){if(n>0){var a=Ca.selectAll("#chart").select(".c3-event-rect-"+(n-1)),r=e.chartDatetoDate(t);a[0][0].onclick=function(){e.dateselect(r)}}})}},{key:"componentWillReceiveProps",value:function(e){if(e.nextday!==this.props.nextday&&this.nextday(),e.prevday!==this.props.prevday&&this.prevday(),e.today!==this.props.today&&this.today(),e.redraw!==this.props.redraw&&this.redraw(),e.selectedType!==this.props.selectedType&&(_a=-1),e.constants&&e.constants[this.props.constants_id]){var t=e.constants[this.props.constants_id],n=Qt(t,function(t){return t.value===e.selectedValue}),a=t.filter(function(e){return e.valid||e===n});this.setState({selectedValue:n,items:a})}if(this.state.start!=e.start||this.state.end!=e.end)this.setState({start:e.start,end:e.end}),this.props.chartLoad(e.start,e.end);else if((e.curves!==this.props.curves||e.refreshTime!==this.props.refreshTime)&&(this.chart_config.data.names={},this.chart_config.data.types={},this.chart_config.data.colors={},this.chart_config.data.columns=e.curves,this.chart_config.regions=null,this.legendnames(e.curves,e.constants),this.chart_config.data.colors.I="green",this.chart_config.data.colors.E="red",e.curves)){for(var r=function(e){return i===""+e.value},s=3;s<e.curves.length;s++){var i=e.curves[s][0],c=Qt(e.constants.acc,r);this.chart_config.data.colors[i]=c.color,this.chart_config.data.types[i]="spline"}this.draw()}}},{key:"legendnames",value:function(e,t){if(this.chart_config.data.names.I="Income",this.chart_config.data.names.E="Exp",e)for(var n=function(e){return r===""+e.value},a=3;a<e.length;a++){var r=e[a][0],s=Qt(t.acc,n);this.chart_config.data.names[r]=s.label}}}]),t}(r.a.Component);var Fa=Object(i.b)(function(e){return{start:e.daterange.s,end:e.daterange.e,curves:e.chart.curves,nextday:e.chart.nextday,prevday:e.chart.prevday,today:e.chart.today,redraw:e.chart.redraw,refreshTime:e.constants.refreshTime,constants:e.constants.constants,selectedType:e.payments.queryType}},function(e){return{chartLoad:function(t,n){_a=-1,e(xe(t,n))},dayLoad:function(t,n){n!==_a&&(_a=n,e(yn(t)))},accountLoad:function(t,n,a){t!==_a&&(_a=t,e(vn(t,n,a)))},getConstants:function(t){q(t,e)},daterangeToday:function(){e(wt())},daterangeNextBlock:function(){e(kt())},daterangePrevBlock:function(){e(Ct())},setDateRange:function(t,n){e(jt(t,n))}}})(Ta),xa=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Body,null,r.a.createElement(Fa,null))))}}]),t}(r.a.Component),Sa=Object(i.b)(function(e){return{fetching:e.chart.fetching,start:e.daterange.s,end:e.daterange.e}})(xa),Da={startDate:ft(new Date,-10),endDate:ft(new Date,10)},Na=(n(528),n(93)),Pa=!1,Va={},Aa=function(e){function t(e){var n;Object(k.a)(this,t),n=Object(w.a)(this,Object(_.a)(t).call(this,e));var a=Object(S.a)(Object(S.a)(n));return n.state={constants:e.getConstants("cat"),refreshTime:null,redraw:null},n.draw=n.draw.bind(Object(S.a)(Object(S.a)(n))),n.redraw=n.redraw.bind(Object(S.a)(Object(S.a)(n))),n.onmouseover=n.onmouseover.bind(Object(S.a)(Object(S.a)(n))),n.onmouseout=n.onmouseout.bind(Object(S.a)(Object(S.a)(n))),n.c3onRendered=n.c3onRendered.bind(Object(S.a)(Object(S.a)(n))),n.d3onMouseI=n.d3onMouseI.bind(Object(S.a)(Object(S.a)(n))),n.d3onMouseOutI=n.d3onMouseOutI.bind(Object(S.a)(Object(S.a)(n))),n.d3onMouseE=n.d3onMouseE.bind(Object(S.a)(Object(S.a)(n))),n.d3onMouseOutE=n.d3onMouseOutE.bind(Object(S.a)(Object(S.a)(n))),n.timer=null,n.chart_config={onrendered:n.c3onRendered,sum_i:0,sum_e:0,bindto:"#pie",tooltip:{format:{value:function(e,t,n){return"p"===n.substr(0,1)?e+"  ("+oe(100*e/a.chart_config.sum_i)+"%)":-e+"  ("+oe(100*-e/a.chart_config.sum_e)+"%)"}}},data:{names:{},columns:[],colors:{},order:null,onclick:function(e){a.onmouseover(e.id)},onmouseover:function(e){Pa&&a.onmouseover(e.id)},type:"pie"},pie:{label:{format:function(e,t,n){return Va[n]}}},legend:{show:!1}},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"onmouseout",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"onmouseover",value:function(e){var t=this;this.timer=setTimeout(function(){t.props.categoryLoad(e.substring(1),t.props.start,t.props.end)},300)}},{key:"d3onMouseI",value:function(){Na.select("#incomes").style({display:"inline"})}},{key:"d3onMouseOutI",value:function(){Na.select("#incomes").style({display:"none"})}},{key:"d3onMouseE",value:function(){Na.select("#expences").style({display:"inline"})}},{key:"d3onMouseOutE",value:function(){Na.select("#expences").style({display:"none"})}},{key:"c3onRendered",value:function(){var e=this.chart_config.sum_i-this.chart_config.sum_e;if(0!==e){var t=-this.chart_config.sum_e/e*2*Math.PI,n=Na.svg.arc().innerRadius(0).outerRadius(40).startAngle(0).endAngle(t),a=Na.svg.arc().innerRadius(0).outerRadius(40).startAngle(t).endAngle(2*Math.PI),r=Na.svg.arc().innerRadius(40).outerRadius(41).startAngle(0).endAngle(2*Math.PI),s=Na.selectAll("#pie").select(".c3-chart-arcs");s.append("svg:path").attr("id","arc-minus").style("stroke-width",0).attr("d",n).on({click:this.d3onMouseE,mouseover:this.d3onMouseE,mouseout:this.d3onMouseOutE}),s.append("svg:path").attr("id","arc-plus").style("stroke-width",0).attr("d",a).on({click:this.d3onMouseI,mouseover:this.d3onMouseI,mouseout:this.d3onMouseOutI}),s.append("svg:path").attr("id","arc-space").style("stroke-width",0).attr("d",r)}}},{key:"draw",value:function(){Ea.a.generate(this.chart_config)}},{key:"redraw",value:function(){this.draw()}},{key:"componentWillReceiveProps",value:function(e){if(this.props.start!==e.start||this.props.end!==e.end)this.props.pieLoad(e.start,e.end);else{var t={},n=[],a=0,r=0,s=null;e.slices&&(e.slices.forEach(function(i){var c=Qt(e.constants.cat,function(e){return i.c===e.value});i.sl<0?(r+=i.sl,s="n"+i.c,Va[s]=c.label,t[s]=c.color,n.push([s,-i.sl])):(a+=i.sl,s="p"+i.c,Va[s]=c.label,t[s]=c.color,n.push([s,i.sl]))}),this.chart_config.sum_i=a,this.chart_config.sum_e=r,this.chart_config.data.names=Va,this.chart_config.data.colors=t,this.chart_config.data.columns=n,this.draw())}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"pie",onMouseOut:function(){return e.onmouseout()}}),r.a.createElement("table",{id:"incomes",className:"c3-tooltip",style:{display:"none",left:"75px",top:"150px",position:"absolute"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{style:{backgroundColor:"green"}})," Income total"),r.a.createElement("td",null,oe(this.chart_config.sum_i))))),r.a.createElement("table",{id:"expences",className:"c3-tooltip",style:{display:"none",left:"250px",top:"250px",position:"absolute"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{style:{backgroundColor:"red"}})," Expences total"),r.a.createElement("td",null,oe(this.chart_config.sum_e))))))}}]),t}(r.a.Component);Aa.defaultProps={start:Da.startDate,end:Da.endDate,slices:null};var Ma=Object(i.b)(function(e){return{start:e.daterange.s,end:e.daterange.e,slices:e.pie.slices,refreshTime:e.constants.refreshTime,redraw:e.pie.redraw,constants:e.constants.constants}},function(e){return{pieLoad:function(t,n){e(on(t,n))},categoryLoad:function(t,n,a){e(gn(t,n,a))},getConstants:function(t){q(t,e)}}})(Aa),Ia=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(T.a.Body,null,r.a.createElement(Ma,null))))}}]),t}(r.a.Component),La=Object(i.b)(function(e){return{fetching:e.pie.fetching,start:e.daterange.s,end:e.daterange.e}})(Ia),Ya=function(e){return function(t){"c"===e&&t(G()),"a"===e&&t(Me()),"l"===e&&t(function(e){e({type:"AUDITLOG_REQUEST"}),L("history?ts="+Date.now(),function(t){var n=!0;51===t.data.length&&(n=!1,t.data.pop()),e(rt(t.data,!0,n))},e)}),t(function(e){return{type:"SHOW_VIEW",payload:{view:e}}}(e))}},Ua=function(){return r.a.createElement(Ze,null)},Ha=function(){return r.a.createElement(Ce,null)},Ba=function(){return r.a.createElement(mt,null)},Wa=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentWillReceiveProps",value:function(e){"main"!==this.props.view&&"main"===e.view&&(this.props.minibarsRedraw(),this.props.chartRedraw(),this.props.pieRedraw())}},{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(nn,null)),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:{width:"100%",display:"inline-flex",whiteSpace:"nowrap"}},r.a.createElement("div",{style:{width:"75%",paddingRight:"2px"}},r.a.createElement(Sa,null)),r.a.createElement("div",{style:{width:"25%",paddingLeft:"2px"}},r.a.createElement(La,null)))),r.a.createElement(ga,null));return r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement("div",{style:{display:"main"===this.props.view?"":"none"}},e),r.a.createElement("div",{style:{display:"a"===this.props.view?"":"none"}},r.a.createElement(Ua,null)),r.a.createElement("div",{style:{display:"c"===this.props.view?"":"none"}},r.a.createElement(Ha,null)),r.a.createElement("div",{style:{display:"l"===this.props.view?"":"none"}},r.a.createElement(Ba,null)))}}]),t}(r.a.Component);Wa.defaultProps={view:"main"};var qa=Object(i.b)(function(e){return{view:e.navi.view}},function(e){return{showView:function(t){e(Ya(t))},chartRedraw:function(){e(Ve())},pieRedraw:function(){e(un())},minibarsRedraw:function(){e(Tt())}}})(Wa),za=n(556),Ga=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).dismiss=n.dismiss.bind(Object(S.a)(Object(S.a)(n))),n.show=n.show.bind(Object(S.a)(Object(S.a)(n))),n.state={show:!1},n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"dismiss",value:function(){this.setState({show:!1})}},{key:"show",value:function(){this.setState({show:!0})}},{key:"componentWillReceiveProps",value:function(e){e.when!==this.props.when&&this.show()}},{key:"render",value:function(){if(!this.state.show)return null;var e=this.props,t=e.status,n=e.msg;return r.a.createElement(za.a,{bsStyle:"danger",onDismiss:this.dismiss},r.a.createElement("h4",null,"We've got an error!"),"Server returned:",r.a.createElement("ul",null,r.a.createElement("li",null,"Status: ",t),r.a.createElement("li",null,"Message: ",n)),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement(D.a,{onClick:this.dismiss},"Close")))}}]),t}(r.a.Component);Ga.defaultProps={when:0};var Qa=Object(i.b)(function(e){return{status:e.errorMessage.status,msg:e.errorMessage.msg,when:e.errorMessage.when}})(Ga),Ka=n(555),Ja=n(551),Xa=n(554),Za=n(552),$a=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ka.a,null,r.a.createElement(Ka.a.Header,null,r.a.createElement(Ka.a.Brand,null," Onassis "),r.a.createElement(Ka.a.Toggle,null)),r.a.createElement(Ka.a.Collapse,null,r.a.createElement(Ja.a,null,r.a.createElement(Xa.a,{eventKey:3,title:"View",id:"basic-nav-dropdown"},r.a.createElement(Za.a,{eventKey:3.1,onSelect:function(t){e.props.showView("main")}},"main"===this.props.view?"X":""," Main"),r.a.createElement(Za.a,{eventKey:3.2,onSelect:function(t){e.props.showView("c")}},"c"===this.props.view?"X":""," Categories"),r.a.createElement(Za.a,{eventKey:3.3,onSelect:function(t){e.props.showView("a")}},"a"===this.props.view?"X":""," Accounts"),r.a.createElement(Za.a,{divider:!0}),r.a.createElement(Za.a,{eventKey:3.4,onSelect:function(t){e.props.showView("l")}},"l"===this.props.view?"X":""," Logs"))))))}}]),t}(r.a.Component);$a.defaultProps={view:"main"};var er=Object(i.b)(function(e){return{view:e.navi.view}},function(e){return{showView:function(t){e(Ya(t))}}})($a),tr=function(e){return{type:"PING_RESPONSE",payload:{up:e}}},nr=function(){return function(e){e({type:"PING_REQUEST"}),V.a.get("http://localhost:8080/ping?ts="+Date.now(),{port:8080}).then(function(t){e(tr(!0))}).catch(function(t){e(tr(!1))})}},ar=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(w.a)(this,Object(_.a)(t).call(this,e))).timer=null,n}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.props.ping()},5e3)}},{key:"render",value:function(){if(!this.props.show)return null;return r.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:50,zIndex:1e3}},r.a.createElement("div",{style:{backgroundColor:"#fff",borderRadius:5,maxWidth:500,minHeight:300,margin:"0 auto",padding:30}},"Waiting for service to be available..."))}}]),t}(r.a.Component);ar.defaultProps={show:!1};var rr=Object(i.b)(function(e){return{show:0!==e.ping.length&&!e.ping.up}},function(e){return{ping:function(){e(nr())}}})(ar),sr=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.chartToday()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(rr,null),r.a.createElement(er,null),r.a.createElement(Qa,null),r.a.createElement(qa,null))}}]),t}(r.a.Component);var ir=Object(i.b)(null,function(e){return{chartToday:function(){e(Pe())}}})(sr),cr=Object(c.d)(j,Object(c.a)(l.a));window.reduxStore=cr,Object(s.render)(r.a.createElement(i.a,{store:cr},r.a.createElement(ir,null)),document.getElementById("root"))}},[[210,2,1]]]);
//# sourceMappingURL=main.2de2d591.chunk.js.map